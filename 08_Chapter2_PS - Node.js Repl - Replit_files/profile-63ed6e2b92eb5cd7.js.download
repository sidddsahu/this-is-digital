(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[277],{82730:function(e,n,t){!function(e,n){"use strict";function t(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function r(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function i(e){for(var n=1;n<arguments.length;n++){var i=null!=arguments[n]?arguments[n]:{};n%2?r(Object(i),!0).forEach((function(n){t(e,n,i[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):r(Object(i)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(i,n))}))}return e}function o(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var t=[],r=!0,i=!1,o=void 0;try{for(var l,a=e[Symbol.iterator]();!(r=(l=a.next()).done)&&(t.push(l.value),!n||t.length!==n);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==a.return||a.return()}finally{if(i)throw o}}return t}}(e,n)||a(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e){return function(e){if(Array.isArray(e))return u(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||a(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,n){if(e){if("string"==typeof e)return u(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?u(e,n):void 0}}function u(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function s(e){var n,t,r,o,a,u,s,c,p,h,v,m,Z,g,b,w,x,y,P,R,k,C,U,S,I,E,B,_,M,D,T,X,G=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},O="data-keen-slider-moves",W="data-keen-slider-v",L=[],A=null,N=!1,j=!1,z=0,V=[];function F(e,n,t){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e.addEventListener(n,t,r),L.push([e,n,t,r])}function $(e){if(y&&P===Q(e)&&ae()){var t=J(e).x;if(!ne(e)&&S)return Y(e);S&&(Ne(),R=t,n.setAttribute(O,!0),S=!1),e.cancelable&&e.preventDefault(),De(U(R-t,He)*(se()?-1:1),e.timeStamp),R=t}}function H(e){y||!ae()||ee(e.target)||(y=!0,S=!0,P=Q(e),ne(e),pe(),x=h,R=J(e).x,De(0,e.timeStamp),oe("dragStart"))}function Y(e){y&&P===Q(e,!0)&&ae()&&(n.removeAttribute(O),y=!1,me(),oe("dragEnd"))}function q(e){return e.changedTouches}function Q(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1]?q(e):K(e);return n?n[0]?n[0].identifier:"error":"default"}function K(e){return e.targetTouches}function J(e){var n=K(e);return{x:de()?n?n[0].screenY:e.pageY:n?n[0].screenX:e.pageX,timestamp:e.timeStamp}}function ee(e){return e.hasAttribute(w.preventEvent)}function ne(e){var n=K(e);if(!n)return!0;var t=n[0],r=de()?t.clientY:t.clientX,i=de()?t.clientX:t.clientY,o=void 0!==k&&void 0!==C&&Math.abs(C-i)<=Math.abs(k-r);return k=r,C=i,o}function te(e){ae()&&y&&e.preventDefault()}function re(){F(window,"orientationchange",Ie),F(window,"resize",(function(){return Se()})),F(n,"dragstart",(function(e){ae()&&e.preventDefault()})),F(n,"mousedown",H),F(w.cancelOnLeave?n:window,"mousemove",$),w.cancelOnLeave&&F(n,"mouseleave",Y),F(window,"mouseup",Y),F(n,"touchstart",H,{passive:!0}),F(n,"touchmove",$,{passive:!1}),F(n,"touchend",Y,{passive:!0}),F(n,"touchcancel",Y,{passive:!0}),F(window,"wheel",te,{passive:!1})}function ie(){L.forEach((function(e){e[0].removeEventListener(e[1],e[2],e[3])})),L=[]}function oe(e){w[e]&&w[e](He)}function le(){return w.centered}function ae(){return void 0!==t?t:w.controls}function ue(){return w.loop&&r>1}function se(){return w.rtl}function ce(){return!w.loop&&w.rubberband}function de(){return!!w.vertical}function fe(){I=window.requestAnimationFrame(he)}function pe(){I&&(window.cancelAnimationFrame(I),I=null),E=null}function he(e){E||(E=e);var n=e-E,t=ve(n);if(n>=_)return De(B-D,!1),X?X():void oe("afterChange");var r=Te(t);if(0===r||ue()||ce()||T){if(0!==r&&ce()&&!T)return xe();D+=t,De(t,!1),fe()}else De(t-r,!1)}function ve(e){return B*M(e/_)-D}function me(){switch(oe("beforeChange"),w.mode){case"free":be();break;case"free-snap":we();break;default:Ze()}}function Ze(){ge((1===s&&0!==v?x:h)+Math.sign(v))}function ge(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:w.duration,r=function(e){return 1+--e*e*e*e*e};ye(We(e=Oe(e,arguments.length>3&&void 0!==arguments[3]&&arguments[3],arguments.length>4&&void 0!==arguments[4]&&arguments[4])),t,r,n)}function be(){if(0===Z)return!(!Te(0)||ue())&&ge(h);var e=w.friction/Math.pow(Math.abs(Z),-.5);ye(Math.pow(Z,2)/e*Math.sign(Z),6*Math.abs(Z/e),(function(e){return 1-Math.pow(1-e,5)}))}function we(){if(0===Z)return ge(h);var e=w.friction/Math.pow(Math.abs(Z),-.5),n=Math.pow(Z,2)/e*Math.sign(Z),t=6*Math.abs(Z/e),r=(z+n)/(u/s);ye((-1===v?Math.floor(r):Math.ceil(r))*(u/s)-z,t,(function(e){return 1-Math.pow(1-e,5)}))}function xe(){if(pe(),0===Z)return ge(h,!0);var e=.04/Math.pow(Math.abs(Z),-.5),n=Math.pow(Z,2)/e*Math.sign(Z),t=function(e){return--e*e*e+1},r=Z;ye(n,3*Math.abs(r/e),t,!0,(function(){ye(We(Oe(h)),500,t,!0)}))}function ye(e,n,t,r,i){pe(),B=e,D=0,_=n,M=t,T=r,X=i,E=null,fe()}function Pe(t){var r=d(e);r.length&&(n=r[0],Se(t),re(),oe("mounted"))}function Re(){var e,n=G.breakpoints||[];for(var t in n)window.matchMedia(t).matches&&(e=t);if(e===A)return!0;var r=(A=e)?n[A]:G;r.breakpoints&&A&&delete r.breakpoints,w=i(i(i({},$e),G),r),N=!0,p=null,Ue()}function ke(e){return"function"==typeof e?e():f(e,1,Math.max(ue()?r-1:r,1))}function Ce(){Re(),j=!0,oe("created")}function Ue(e,n){e&&(G=e),n&&(A=null),Ee(),Pe(n)}function Se(e){var t=window.innerWidth;if(Re()&&(t!==p||e)){p=t;var i=w.slides;"number"==typeof i?(a=null,r=i):(a=d(i,n),r=a?a.length:0);var l=w.dragSpeed;U="function"==typeof l?l:function(e){return e*l},u=de()?n.offsetHeight:n.offsetWidth,s=ke(w.slidesPerView),c=f(w.spacing,0,u/(s-1)-1),u+=c,o=le()?(u/2-u/s/2)/u:0,_e();var v=!j||N&&w.resetSlide?w.initial:h;Fe(ue()?v:Xe(v)),de()&&n.setAttribute(W,!0),N=!1}}function Ie(e){Se(),setTimeout(Se,500),setTimeout(Se,2e3)}function Ee(){ie(),Me(),n&&n.hasAttribute(W)&&n.removeAttribute(W),oe("destroyed")}function Be(){a&&a.forEach((function(e,n){var t=g[n].distance*u-n*(u/s-c/s-c/s*(s-1)),r=de()?0:t,i=de()?t:0,o="translate3d(".concat(r,"px, ").concat(i,"px, 0)");e.style.transform=o,e.style["-webkit-transform"]=o}))}function _e(){a&&a.forEach((function(e){var n="calc(".concat(100/s,"% - ").concat(c/s*(s-1),"px)");de()?(e.style["min-height"]=n,e.style["max-height"]=n):(e.style["min-width"]=n,e.style["max-width"]=n)}))}function Me(){if(a){var e=["transform","-webkit-transform"];e=[].concat(l(e),de?["min-height","max-height"]:["min-width","max-width"]),a.forEach((function(n){e.forEach((function(e){n.style.removeProperty(e)}))}))}}function De(e){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];Ae(e,arguments.length>2&&void 0!==arguments[2]?arguments[2]:Date.now()),n&&(e=ze(e)),z+=e,je()}function Te(e){var n=u*(r-1*(le()?1:s))/s,t=z+e;return t>n?t-n:t<0?t:0}function Xe(e){return f(e,0,r-1-(le()?0:s-1))}function Ge(){var e=Math.abs(b),n=z<0?1-e:e;return{direction:v,progressTrack:n,progressSlides:n*r/(r-1),positions:g,position:z,speed:Z,relativeSlide:(h%r+r)%r,absoluteSlide:h,size:r,slidesPerView:s,widthOrHeight:u}}function Oe(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],t=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return ue()?n?Le(e,t):e:Xe(e)}function We(e){return-(-u/s*e+z)}function Le(e,n){var t=(h%r+r)%r,i=t<(e=(e%r+r)%r)?-t-r+e:-(t-e),o=t>e?r-t+e:e-t,l=n?Math.abs(i)<=o?i:o:e<t?i:o;return h+l}function Ae(e,n){clearTimeout(m);var t=Math.sign(e);if(t!==v&&Ne(),v=t,V.push({distance:e,time:n}),m=setTimeout((function(){V=[],Z=0}),50),(V=V.slice(-6)).length<=1||0===v)return Z=0;var r=V.slice(0,-1).reduce((function(e,n){return e+n.distance}),0),i=V[V.length-1].time,o=V[0].time;Z=f(r/(i-o),-10,10)}function Ne(){V=[]}function je(){b=ue()?z%(u*r/s)/(u*r/s):z/(u*r/s),Ve();for(var e=[],n=0;n<r;n++){var t=(1/r*n-(b<0&&ue()?b+1:b))*r/s+o;ue()&&(t+=t>(r-1)/s?-r/s:t<-r/s+1?r/s:0);var i=1/s,l=t+i,a=l<i?l/i:l>1?1-(l-1)*s/1:1;e.push({portion:a<0||a>1?0:a,distance:se()?-1*t+1-i:t})}g=e,Be(),oe("move")}function ze(e){if(ue())return e;var n,t=Te(e);return ce()?0===t?e:e*(n=t/u,(1-Math.abs(n))*(1-Math.abs(n))):e-t}function Ve(){var e=Math.round(z/(u/s));e!==h&&(!ue()&&(e<0||e>r-1)||(h=e,oe("slideChanged")))}function Fe(e){oe("beforeChange"),De(We(e),!1),oe("afterChange")}var $e={centered:!1,breakpoints:null,controls:!0,dragSpeed:1,friction:.0025,loop:!1,initial:0,duration:500,preventEvent:"data-keen-slider-pe",slides:".keen-slider__slide",vertical:!1,resetSlide:!1,slidesPerView:1,spacing:0,mode:"snap",rtl:!1,rubberband:!0,cancelOnLeave:!0},He={controls:function(e){t=e},destroy:Ee,refresh:function(e){Ue(e,!0)},next:function(){ge(h+1,!0)},prev:function(){ge(h-1,!0)},moveToSlide:function(e,n){ge(e,!0,n)},moveToSlideRelative:function(e){ge(e,!0,arguments.length>2?arguments[2]:void 0,!0,arguments.length>1&&void 0!==arguments[1]&&arguments[1])},resize:function(){Se(!0)},details:function(){return Ge()},options:function(){var e=i({},w);return delete e.breakpoints,e}};return Ce(),He}function c(e){return Array.prototype.slice.call(e)}function d(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document;return"function"==typeof e?c(e()):"string"==typeof e?c(n.querySelectorAll(e)):e instanceof HTMLElement!=0?[e]:e instanceof NodeList!=0?e:[]}function f(e,n,t){return Math.min(Math.max(e,n),t)}Math.sign||(Math.sign=function(e){return(e>0)-(e<0)||+e});var p=function e(n,t){var r=Object.prototype.toString.call(n);if(r!==Object.prototype.toString.call(t))return!1;if(["[object Array]","[object Object]"].indexOf(r)<0)return!1;var i="[object Array]"===r?n.length:Object.keys(n).length;if(i!==("[object Array]"===r?t.length:Object.keys(t).length))return!1;var o=function(n,t){var r=Object.prototype.toString.call(n);if(["[object Array]","[object Object]"].indexOf(r)>=0){if(!e(n,t))return!1}else{if(r!==Object.prototype.toString.call(t))return!1;if("[object Function]"===r){if(n.toString()!==t.toString())return!1}else if(n!==t)return!1}};if("[object Array]"===r){for(var l=0;l<i;l++)if(!1===o(n[l],t[l]))return!1}else for(var a in n)if(n.hasOwnProperty(a)&&!1===o(n[a],t[a]))return!1;return!0};e.default=s,e.useKeenSlider=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=n.useRef(),r=n.useRef();function i(e){return p(r.current,e)||(r.current=e),r.current}var l=o(n.useState(null),2),a=l[0],u=l[1];return n.useEffect((function(){var e=new s(t.current,r.current);return u(e),function(){e.destroy()}}),[i(e)]),[t,a]},Object.defineProperty(e,"__esModule",{value:!0})}(n,t(67294))},34270:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/profile",function(){return t(16558)}])},62441:function(e,n,t){"use strict";t.d(n,{Z:function(){return Z}});var r=t(47568),i=t(10253),o=t(34051),l=t.n(o),a=t(35944),u=t(60536),s=t.n(u),c=t(67294),d=t(28898),f=t(60459),p=t(93058),h=t(62722),v=t(7657),m=t(65975);function Z(e){var n=e.currentUser,t=e.onChange,o=(0,p.Z)(),u=o.showError,Z=o.showConfirm,g=(0,i.Z)(c.useState(n.image),2),b=g[0],w=g[1];c.useEffect((function(){return w(n.image)}),[n.image]);var x=(0,f.Z)({onUpload:function(e){var n=e.id;return t({imageId:n})},onUploadPreview:function(e){var n=e.dataUrl;w(n),Z("Uploading profile image")},onError:function(e){return u(e.message)}}),y=function(){var e=(0,r.Z)(l().mark((function e(n){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.preventDefault();case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return(0,a.BX)("div",{className:"jsx-362e6927095639b7 profile-image",children:[(0,a.tZ)(m.G7,{css:{width:"inherit"},children:n.hasPrivacyRole?(0,a.tZ)(d.Z,{size:"inherit",url:b}):(0,a.BX)("div",{onDrop:function(e){var n,t;e.preventDefault();var r=null===(n=e.dataTransfer)||void 0===n||null===(t=n.files)||void 0===t?void 0:t[0];r&&(r.type.startsWith("image/")?x.uploadImage(r,v.N.ProfileImage):u("Expected an image file"))},onDragOver:y,className:"jsx-362e6927095639b7 drop-target",children:[(0,a.tZ)(d.Z,{size:"inherit",url:b}),(0,a.BX)("label",{className:"jsx-362e6927095639b7",children:[(0,a.tZ)("input",{accept:h.W9.join(","),type:"file",onChange:function(e){var n=e.target,t=n.validity,r=n.files;t.valid&&(null===r||void 0===r?void 0:r.length)&&x.uploadImage(r[0],v.N.ProfileImage)},className:"jsx-362e6927095639b7"}),(0,a.tZ)("span",{className:"jsx-362e6927095639b7",children:"Drag or upload"})]})]})}),(0,a.tZ)(s(),{id:"362e6927095639b7",children:".drop-target.jsx-362e6927095639b7{position:relative;width:inherit;text-align:center}.drop-target.jsx-362e6927095639b7:hover label.jsx-362e6927095639b7{opacity:1}label.jsx-362e6927095639b7{opacity:0;position:absolute;top:0;left:0;width:100%;height:100%;cursor:pointer;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;color:var(--foreground-default);background-color:var(--background-overlay);-webkit-border-radius:50%;-moz-border-radius:50%;border-radius:50%;font-size:var(--font-size-default)}input.jsx-362e6927095639b7{width:.1px;height:.1px;opacity:0;overflow:hidden;position:absolute;z-index:-1}.error.jsx-362e6927095639b7{text-align:center;font-size:var(--font-size-default);color:var(--accent-negative-default)}.profile-image.jsx-362e6927095639b7{width:inherit}"})]})}},71745:function(e,n,t){"use strict";t.d(n,{Z:function(){return v}});var r=t(35944),i=(t(67294),t(70917)),o=t(11163),l=t(62913),a=t(69346),u=t(81255),s=t(73147),c=t(15902),d=function(){return(0,r.tZ)("svg",{width:"6px",height:"9px",viewBox:"0 0 6 9",version:"1.1",xmlns:"http://www.w3.org/2000/svg",children:(0,r.tZ)("g",{children:(0,r.BX)("g",{fill:"var(--accent-yellow-default)",children:[(0,r.tZ)("rect",{x:"0",y:"0",width:"3",height:"3"}),(0,r.tZ)("rect",{x:"3",y:"3",width:"3",height:"3"}),(0,r.tZ)("rect",{x:"0",y:"6",width:"3",height:"3"})]})})})},f=(0,i.F4)("\n  0% {\n    width: 16px;\n  }\n  10% {\n    width: 16px;\n  }\n  100% {\n    width: 100%;\n  }\n"),p=(0,i.F4)("\n  0% {\n    width: 0%;\n  }\n  50% {\n    width: 0%;\n  }\n  100% {\n    width: 100%;\n  }\n"),h=(0,i.F4)("\n  0% {\n    opacity: 1;\n  }\n  100% {\n    opacity: 0;\n  }\n");function v(){var e=(0,o.useRouter)();return(0,c.V)(e)?(0,r.tZ)(a.ZP,{css:[u.l0.position.relative,u.l0.flex.column,u.l0.center,u.l0.color.foregroundDimmer,u.l0.minHeight("calc(100vh - 100px)")],children:(0,r.tZ)(a.ZP,{children:(0,r.tZ)(l.Z,{src:"/public/images/404.svg",width:"500px",height:"500px",alt:"broken computer with 404 message on screen"})})}):(0,r.BX)(a.ZP,{css:[u.l0.position.relative,u.l0.flex.column,u.l0.center,u.l0.color.foregroundDimmer,u.l0.minHeight("calc(100vh - 100px)")],children:[(0,r.tZ)(a.ZP,{children:(0,r.tZ)(l.Z,{src:"/public/images/404.svg",width:"500px",height:"500px",alt:"broken computer with 404 message on screen"})}),(0,r.BX)(a.ZP,{css:[u.l0.justify.center,u.l0.flex.column,u.l0.pl(8),u.l0.pr(8),u.l0.fontSize(u.TV.fontSizeSubheadDefault),u.l0.color.accentNegativeStronger,u.l0.minHeight("70px"),{margin:"0 auto"}],children:[(0,r.BX)(a.ZP,{css:[u.l0.pl(16),u.l0.overflow("hidden"),u.l0.position.relative,{whiteSpace:"nowrap"},{"@media(max-width: 550px)":{animation:"none",width:"auto",whiteSpace:"normal",overflow:"auto"}},{animation:"".concat(f," 2.5s steps(60, end)")}],children:[(0,r.BX)(a.ZP,{css:[u.l0.flex.row,u.l0.align.center],children:[(0,r.tZ)(a.ZP,{css:[u.l0.position.absolute,u.l0.left(0),{"@media(max-width:550px)":{top:8}}],children:(0,r.tZ)(d,{})}),"Not found error: This is not the page you\u2019re looking for."]}),(0,r.tZ)(a.ZP,{tag:"br"})]}),(0,r.BX)(a.ZP,{css:[u.l0.display.block,u.l0.pl(16),u.l0.overflow("hidden"),{lineHeight:"25px"},{whiteSpace:"nowrap"},{animation:"".concat(p," 5s steps(60, end)")},{"@media(max-width: 550px)":{animation:"none",width:"auto",whiteSpace:"normal",overflow:"auto"}}],children:["If you think this is a mistake please let us know by"," ",(0,r.tZ)("a",{href:s.av,children:"contacting support"})," or"," ",(0,r.tZ)("a",{href:s.xz,children:"ask the community"}),"."," ",(0,r.tZ)(a.ZP,{tag:"span",css:[u.l0.display.inline,u.l0.color.accentNegativeStronger,{animation:"".concat(h," 1s infinite")}],children:"_"})]})]})]})}},61469:function(e,n,t){"use strict";var r=t(35944),i=(t(67294),t(81255)),o=t(69346),l=t(1144);n.Z=function(e){var n=e.text;return(0,r.BX)(o.ZP,{css:[i.l0.flex.row,i.l0.align.center],children:[(0,r.tZ)(o.ZP,{css:[i.l0.mr(8),{borderBottom:"1px solid ".concat(i.TV.backgroundHighest),width:i.TV.space8}]}),(0,r.tZ)(l.x,{css:[i.l0.color.foregroundDimmest,i.l0.flex.shrink(1)],multiline:!0,children:n}),(0,r.tZ)(o.ZP,{css:[i.l0.ml(8),i.l0.flex.grow(2),{borderBottom:"1px solid ".concat(i.TV.backgroundHighest),width:i.TV.space16}]})]})}},82908:function(e,n,t){"use strict";t.d(n,{Z:function(){return o}});var r=t(10253),i=t(67294);function o(){var e=(0,r.Z)(i.useState({}),2)[1];return i.useCallback((function(){e({})}),[])}},5784:function(e,n,t){"use strict";var r=t(11163);n.Z=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"string",t=(0,r.useRouter)(),i=t.query,o=i[e];if("boolean"===n)return"true"===o;if("number"===n){if(!o)return;var l=parseInt(o.toString(),10);if(isNaN(l))return;return l}return null===o||void 0===o?void 0:o.toString()}},35450:function(e,n,t){"use strict";t.d(n,{a:function(){return d},t:function(){return c}});var r=t(26042),i=t(69396),o=t(35944),l=(t(67294),t(33773)),a=t(65975),u=t(64080),s={visibility:"hidden",opacity:0,pointerEvents:"none"},c=function(e){var n=e.dir,t=e.slider,u=e.currentSlide;if(!t)return null;var c="left"===n,d=t.details().size,f=(c?0===u:u===d-1)?s:{},p=c?"-":"";return(0,o.tZ)(a.G7,{css:[a.l0.center,a.l0.backgroundColor.foregroundDimmest,a.l0.color.backgroundRoot,a.l0.position.absolute,a.l0.cursor.pointer,a.l0.width(36),a.l0.height(36),a.l0.top("50%"),a.l0.left(c?0:"auto"),a.l0.right(c?"auto":0),a.l0.zIndex(1),a.l0.borderRadius("full"),(0,i.Z)((0,r.Z)({opacity:.75,transform:"translateX(".concat(p,"25%) translateY(-50%)"),transition:"background 0.1s, opacity 0.1s, transform 0.1s"},f),{":hover":{transform:"translateX(".concat(p,"25%) translateY(-50%) scale(1.2)"),background:"var(--foreground-dimmer)",opacity:1}})],onClick:function(){c?t.prev():t.next()},children:(0,o.tZ)(l.Z,{size:24,rotate:c?90:-90})})},d=function(e){var n=e.slider,t=e.currentSlide,r=e.openPickModal,i=e.isOwner;if(!n)return null;var l=null===n||void 0===n?void 0:n.details().size;return(0,o.BX)(a.G7,{css:[a.l0.rowWithGap(16),a.l0.center],children:[(0,o.tZ)(a.G7,{css:[a.l0.rowWithGap(12),a.l0.align.center],children:Array.from({length:l},(function(e,r){var i=t===r;return(0,o.tZ)(a.G7,{css:[i?a.l0.cursor.default:a.l0.cursor.pointer,a.l0.width(16),a.l0.height(16),a.l0.justify.center,a.l0.align.center],onClick:function(){return e=r,void n.moveToSlide(e);var e},children:(0,o.tZ)(a.G7,{css:[i?a.l0.backgroundColor.accentPrimaryDefault:a.l0.backgroundColor.foregroundDimmest,a.l0.width(8),a.l0.height(8),a.l0.borderRadius("full")]})},r)}))}),i&&(0,o.tZ)(a.zx,{onClick:r,iconLeft:(0,o.tZ)(u.Z,{}),text:"Edit pinned Repls",small:!0,outlined:!0})]})}},4941:function(e,n,t){"use strict";t.d(n,{B:function(){return h},Z:function(){return p}});var r=t(7297),i=t(31230),o=t(21767),l=t(97008),a=t(47174),u=t(48293),s=t(23426),c=t(11417);function d(){var e=(0,r.Z)(["\n  fragment ReplViewRepl on Repl {\n    id\n    title\n    timeCreated\n    imageUrl\n    analyticsUrl\n    publicReleasesForkCount\n    publicForkCount\n    owner {\n      ... on Team {\n        id\n        username\n        url\n        image\n      }\n      ... on User {\n        id\n        username\n        url\n        image\n      }\n    }\n    relatedRepls(limitPerGroup: 3) {\n      name\n      repls {\n        id\n        publishedAs\n        ...ReplLinkRepl\n        ...TemplateReplCardRepl\n        ...ReplPostReplCardRepl\n      }\n    }\n    lang {\n      id\n      displayName\n    }\n    currentUserPermissions {\n      containerWrite\n      publish\n      changeIconUrl\n    }\n    publishedAs\n    deployment {\n      id\n      activeRelease {\n        id\n        timeCreated\n      }\n    }\n    ...ReplViewReplTitleRepl\n    ...ReplViewReplViewerRepl\n    ...ReplLinkRepl\n    ...ReplViewFooterRepl\n  }\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n"]);return d=function(){return e},e}function f(){var e=(0,r.Z)(["\n  fragment ReplViewCurrentUser on CurrentUser {\n    id\n    username\n    isSubscribed\n    isModerator: hasRole(role: MODERATOR)\n    isAdmin: hasRole(role: ADMIN)\n    ...ReplViewReplViewerCurrentUser\n  }\n  ","\n"]);return f=function(){return e},e}var p=(0,i.ZP)(d(),o.Y,l.qb,a.n,u.rv,s.Q,c.A),h=(0,i.ZP)(f(),s.r)},71306:function(e,n,t){"use strict";t.d(n,{Z:function(){return b}});var r=t(35944),i=t(67294),o=t(26042),l=t(7297),a=t(31230),u=t(4941),s=t(46829);function c(){var e=(0,l.Z)(["\n  fragment ReplViewContentLoaderRepl on Repl {\n    id\n    title\n  }\n"]);return c=function(){return e},e}function d(){var e=(0,l.Z)(["\n  query ReplViewContentLoader($replId: String!) {\n    repl(id: $replId) {\n      ... on Repl {\n        id\n        ...ReplViewRepl\n      }\n    }\n    currentUser {\n      id\n      ...ReplViewCurrentUser\n    }\n  }\n  ","\n  ","\n"]);return d=function(){return e},e}var f={},p=(0,a.ZP)(c()),h=(0,a.ZP)(d(),u.Z,u.B);var v=t(86292),m=t(11163),Z=t(68727),g=t(65975);function b(e){var n=e.replId,t=(0,m.useRouter)();i.useEffect((function(){(0,v.Md)({pageName:"replView",sourcePage:t.pathname})}),[t]);var l=function(e){var n=(0,o.Z)({},f,e);return s.useQuery(h,n)}({variables:{replId:n}}).data,a=(0,s.useApolloClient)().readFragment({id:n,fragment:p}),u="Repl"===(null===l||void 0===l?void 0:l.repl.__typename)?l.repl:null,c=(null===l||void 0===l?void 0:l.currentUser)||void 0;return(0,r.tZ)(g.G7,{css:[g.l0.borderRadius(8)],children:u?(0,r.tZ)(Z.Z,{repl:u,currentUser:c,withSidebar:!0}):(0,r.tZ)(Z.G,{title:(null===a||void 0===a?void 0:a.title)||void 0,withSidebar:!0})})}},11417:function(e,n,t){"use strict";t.d(n,{A:function(){return s}});var r=t(7297),i=t(31230),o=t(21767);function l(){var e=(0,r.Z)(["\n  fragment ReplViewSourceRepl on Repl {\n    id\n    iconUrl\n    title\n    templateLabel\n    ...ReplLinkRepl\n    owner {\n      ... on Team {\n        id\n        username\n        url\n        image\n      }\n      ... on User {\n        id\n        username\n        url\n        image\n      }\n    }\n  }\n  ","\n"]);return l=function(){return e},e}function a(){var e=(0,r.Z)(["\n  fragment ReplViewFooterRepl on Repl {\n    id\n    description\n    lastPublishedAt\n    publishedAs\n    deployment {\n      id\n      activeRelease {\n        id\n        timeCreated\n      }\n    }\n    owner {\n      ... on Team {\n        id\n        username\n        url\n        image\n        followerCount\n        isFollowedByCurrentUser\n      }\n      ... on User {\n        id\n        username\n        url\n        image\n        followerCount\n        isFollowedByCurrentUser\n      }\n    }\n    source {\n      release {\n        id\n      }\n      deployment {\n        id\n        repl {\n          id\n          ...ReplViewSourceRepl\n        }\n      }\n    }\n    tags {\n      id\n    }\n    origin {\n      id\n      ...ReplViewSourceRepl\n    }\n  }\n  ","\n"]);return a=function(){return e},e}var u=(0,i.ZP)(l(),o.Y),s=(0,i.ZP)(a(),u)},41433:function(e,n,t){"use strict";t.d(n,{DC:function(){return x},YQ:function(){return Z}});var r=t(26042),i=t(7297),o=t(31230),l=t(23426),a=t(16092),u=t(11417),s=t(46829);function c(){var e=(0,i.Z)(["\n  fragment ProfilePagePinnedRepl on Repl {\n    id\n    description\n    iconUrl\n    title\n    ...ReplViewReplViewerRepl\n    ...ReplViewFooterRepl\n    templateInfo {\n      iconUrl\n      label\n    }\n  }\n  ","\n  ","\n"]);return c=function(){return e},e}function d(){var e=(0,i.Z)(["\n  fragment UserRoles on User {\n    roles(\n      only: [\n        ADMIN\n        MODERATOR\n        CONTENT_CREATOR\n        DETECTIVE\n        LANGUAGE_JAMMER\n        FEATURED\n        REPLIT_REP\n      ]\n    ) {\n      id\n      name\n      key\n      tagline\n    }\n  }\n"]);return d=function(){return e},e}function f(){var e=(0,i.Z)(["\n  fragment ProfileHeaderUser on User {\n    id\n    fullName\n    username\n    image\n    isLoggedIn\n    bio\n    isHacker\n    ...UserRoles\n    languages(limit: 3) {\n      id\n      key\n      displayName\n      tagline\n      icon\n    }\n  }\n  ","\n"]);return f=function(){return e},e}function p(){var e=(0,i.Z)(["\n  fragment ProfilePageUser on User {\n    id\n    fullName\n    image\n    pinnedRepls {\n      id\n      ...ProfilePagePinnedRepl\n    }\n    hasPrivacyRole\n    socials {\n      id\n      url\n      type\n    }\n    publicRepls(count: 1, showUnnamed: true) {\n      items {\n        id\n      }\n    }\n    followerCount\n    followCount\n    isFollowedByCurrentUser\n    isFollowingCurrentUser\n    isBlockedByCurrentUser\n    isBlockingCurrentUser\n    redirectToTeamDashboard\n    username\n    ...ProfileHeaderUser\n    ...UserLinkUser\n  }\n  ","\n  ","\n  ","\n"]);return p=function(){return e},e}function h(){var e=(0,i.Z)(["\n  query ProfilePage($username: String!) {\n    currentUser {\n      id\n      username\n      hasRepl\n      isAdmin: hasRole(role: ADMIN)\n      isPrivacyAccount: hasPrivacyRole\n      isModerator: hasRole(role: MODERATOR)\n      ...ReplViewReplViewerCurrentUser\n    }\n    user: userByUsername(username: $username) {\n      id\n      ...ProfilePageUser\n    }\n  }\n  ","\n  ","\n"]);return h=function(){return e},e}var v={},m=(0,o.ZP)(c(),l.Q,u.A),Z=(0,o.ZP)(d()),g=(0,o.ZP)(f(),Z),b=(0,o.ZP)(p(),m,g,a._),w=(0,o.ZP)(h(),l.r,b);function x(e){var n=(0,r.Z)({},v,e);return s.useQuery(w,n)}},16558:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return Zi}});var r=t(47568),i=t(14924),o=t(26042),l=t(10253),a=t(34051),u=t.n(a),s=t(35944),c=t(67294),d=t(12918),f=t(11163),p=t(78738),h=t(71745),v=t(77365),m=t(70338),Z=t(69396),g=t(29815),b=t(7297),w=t(31230),x=t(17674),y=t(22411),P=t(35087),R=t(46829);function k(){var e=(0,b.Z)(["\n  query ProfilePosts(\n    $username: String!\n    $after: String\n    $order: String\n    $count: Int\n  ) {\n    currentUser {\n      id\n      ...ReplPostCurrentUser\n    }\n    user: userByUsername(username: $username) {\n      id\n      displayName\n      posts(after: $after, order: $order, count: $count) {\n        items {\n          id\n          ...ReplPostPost\n          ...OldPostPost\n          ...ReplCardPostPost\n        }\n        pageInfo {\n          nextCursor\n        }\n      }\n    }\n  }\n  ","\n  ","\n  ","\n  ","\n"]);return k=function(){return e},e}var C={},U=(0,w.ZP)(k(),x.rP,x.U5,y.h,P.mx);var S=t(69346),I=t(81255),E=t(4472),B=t(92850),_=t(65338),M=t(86292),D=t(65975),T=function(e){var n,t=e,r=function(e){var n=(0,o.Z)({},C,e);return R.useQuery(U,n)}({variables:t}),i=r.data,l=r.loading,a=r.fetchMore;if(l)return(0,s.tZ)(S.ZP,{css:[I.l0.p(8),I.l0.center],children:(0,s.tZ)(v.Z,{})});if(!(null===i||void 0===i||null===(n=i.user)||void 0===n?void 0:n.posts))return null;var u=i.user.posts,c=i.currentUser,d=i.user.posts.pageInfo.nextCursor;return(0,s.BX)(S.ZP,{css:[I.l0.colWithGap(32),I.l0.px(16)],children:[(0,s.BX)(S.ZP,{css:[I.l0.colWithGap(32)],children:[0===u.items.length&&(0,s.tZ)(S.ZP,{css:[I.l0.center,I.l0.p(32)],children:(0,s.tZ)(D.xv,{variant:"subheadBig",children:"No posts yet"})}),u.items.map((function(e){return e.title?e.replComment?(0,s.tZ)(E.Z,{post:e,currentUser:c||void 0},e.id):(0,s.tZ)(_.Z,{post:e},e.id):(0,s.tZ)(B.Z,{post:e,currentUser:c||void 0},e.id)}))]}),(0,s.BX)(S.ZP,{css:[I.l0.center],children:[l?(0,s.tZ)(D.zx,{disabled:!0,text:"Loading..."}):null,d&&!l?(0,s.tZ)(D.zx,{onClick:function(){(0,M.j)(M.U3.PROFILE_POSTS_LOAD_MORE_CLICKED,{username:e.username}),a({variables:(0,Z.Z)((0,o.Z)({},t),{after:u.pageInfo.nextCursor}),updateQuery:function(e,n){var t,r,i,l;if(!(null===(t=n.fetchMoreResult)||void 0===t||null===(r=t.user)||void 0===r?void 0:r.posts))return e;var a=n.fetchMoreResult,u=e&&e.user&&e.user.posts?e.user.posts.items:[],s=(0,o.Z)({},a);return(null===(i=s.user)||void 0===i?void 0:i.posts)&&(null===(l=a.user)||void 0===l?void 0:l.posts)&&(s.user.posts.items=(0,g.Z)(u).concat((0,g.Z)(a.user.posts.items))),s}})},text:"Load more"}):null]})]})},X=t(1879),G=t(85485),O=t(93160),W=t(90317),L=t(93053);function A(){var e=(0,b.Z)(["\n  query ProfilePublicRepls(\n    $username: String!\n    $after: String\n    $search: String\n  ) {\n    user: userByUsername(username: $username) {\n      id\n      profileRepls: profileRepls(after: $after, search: $search) {\n        items {\n          id\n          ...ProfilePublicReplsRepl\n        }\n        pageInfo {\n          hasNextPage\n          nextCursor\n        }\n      }\n    }\n  }\n  ","\n"]);return A=function(){return e},e}function N(){var e=(0,b.Z)(["\n  mutation ProfilePublicReplsPin($replId: String!) {\n    pinReplToProfile2(replId: $replId) {\n      ... on Repl {\n        id\n        ...ProfilePublicReplsRepl\n      }\n      ... on NotFoundError {\n        message\n      }\n      ... on UnauthorizedError {\n        message\n      }\n      ... on UserError {\n        message\n      }\n    }\n  }\n  ","\n"]);return N=function(){return e},e}function j(){var e=(0,b.Z)(["\n  mutation ProfilePublicReplsUnPin($replId: String!) {\n    unpinReplFromProfile2(replId: $replId) {\n      ... on Repl {\n        id\n        ...ProfilePublicReplsRepl\n      }\n      ... on NotFoundError {\n        message\n      }\n      ... on UnauthorizedError {\n        message\n      }\n      ... on UserError {\n        message\n      }\n    }\n  }\n  ","\n"]);return j=function(){return e},e}var z={},V=(0,w.ZP)(A(),L.A);var F=(0,w.ZP)(N(),L.A);var $=(0,w.ZP)(j(),L.A);function H(e){var n=(0,o.Z)({},z,e);return R.useMutation($,n)}var Y=t(1144),q=t(92002),Q=t(83074),K=t(93058),J=t(65400),ee=t(52013),ne=t(88046),te=t(33473),re=t(59292),ie=t(61756),oe=t(88436),le=t(57704),ae=function(e){var n=e.onCancel,t=e.repl,r=e.onDelete,i=(0,l.Z)((0,oe.k)({variables:{id:t.id},onCompleted:function(){return r()}}),2),o=i[0],a=i[1];return(0,s.BX)(S.ZP,{css:[I.l0.colWithGap(24)],children:[(0,s.BX)(Y.h,{variant:"headerDefault",level:1,css:[I.l0.color.accentNegativeStronger],children:["Delete ",t.title]}),(0,s.tZ)(Y.x,{multiline:!0,children:"Are you sure you want to delete this Repl? This cannot be undone."}),(0,s.BX)(S.ZP,{css:[I.l0.rowWithGap(16),{alignSelf:"flex-end"}],children:[(0,s.tZ)(ie.ZP,{onClick:n,text:"Cancel"}),(0,s.tZ)(ie.ZP,{onClick:function(){return o()},disabled:a.loading,text:"Yes, delete this Repl",colorway:"negative",iconLeft:(0,s.tZ)(le.Z,{})})]})]})},ue=t(37552),se=t(90160),ce=t(28529),de=t(64080),fe=t(41034),pe=t(18757),he=[{id:"copy_link",icon:(0,s.tZ)(fe.Z,{}),text:"Copy Link",color:"default"},{id:"cover_page",icon:(0,s.tZ)(pe.Z,{}),text:"Cover page",color:"default"}],ve=[{id:"edit",icon:(0,s.tZ)(de.Z,{}),text:"Edit",color:"default"},{id:"unpin",icon:(0,s.tZ)(se.Z,{}),text:"Unpin",color:"default"},{id:"delete",icon:(0,s.tZ)(le.Z,{}),text:"Delete",color:"var(--accent-negative-stronger)"}],me=function(e){var n=e.onSelect,t=e.showExtendedOptions,r=e.isOwner,i=(0,l.Z)(c.useState([]),2),o=i[0],a=i[1];return c.useEffect((function(){a((0,g.Z)(t?he:[]).concat((0,g.Z)(r?ve:[])))}),[t,r]),r||t?(0,s.tZ)(ue.ZE,{cssProps:[{backgroundColor:"transparent"}],"aria-label":"more options",icon:(0,s.tZ)(ce.Z,{}),onAction:n,children:o.map((function(e){return(0,s.tZ)(ue.ck,{"aria-label":e.text,children:(0,s.BX)(S.ZP,{css:[I.l0.flex.row,I.l0.rowWithGap(8),{width:200,color:e.color}],children:[c.cloneElement(e.icon),(0,s.tZ)(Y.x,{children:e.text})]})},e.id)}))}):null},Ze=t(66060),ge=t(79500),be=function(e){var n=e.repl,t=(0,l.Z)(c.useState(!1),2),r=t[0],i=t[1];return(0,s.tZ)(Ze.ZP,{isOpen:r,placement:"bottom",tooltip:"Copied!",onOpenChange:function(){r&&setTimeout((function(){i(!1)}),2e3)},children:(0,s.tZ)(ie.ZP,{text:"Copy Link",iconLeft:(0,s.tZ)(fe.Z,{}),onClick:function(){(null===n||void 0===n?void 0:n.url)&&((0,ge.Z)("".concat(window.location.origin).concat(n.url)),i(!0))}})})},we=t(5886),xe=function(e){var n=e.spotlightLinkProps;return(0,s.tZ)(we.Z,(0,o.Z)({text:"Cover page",iconLeft:(0,s.tZ)(pe.Z,{})},n))},ye=t(41664),Pe=t.n(ye),Re=t(90473),ke=t(75026),Ce=t(92350),Ue=t(46702),Se=t(54917),Ie=function(e){var n=e.spotlightLinkProps,t=e.repl,r=e.loading,i=e.comments,o=(0,f.useRouter)(),a=(0,l.Z)(c.useState(!1),2),u=a[0],d=a[1];return t?(0,s.BX)(S.ZP,{css:[I.l0.pt(16),I.l0.pb(8),I.l0.mb(8),I.l0.flex.grow(0),I.l0.flex.shrink(1),I.l0.position.relative,I.l0.overflow("hidden")],children:[(0,s.BX)(S.ZP,{css:[I.l0.center,I.l0.position.absolute,I.l0.height("100%"),I.l0.width("100%"),I.l0.zIndex(2),I.l0.top(0),I.l0.cursor.pointer],onMouseEnter:function(){return d(!0)},onMouseLeave:function(){return d(!1)},onClick:function(){return o.push(n.href,n.as)},children:[u&&(0,s.tZ)(S.ZP,{css:[{backgroundColor:I.TV.backgroundDefault,opacity:.8,position:"absolute",top:0,width:"100%",height:"100%"}]}),u&&(0,s.BX)(S.ZP,{css:[I.l0.center,I.l0.rowWithGap(8),I.l0.zIndex(3)],children:[(0,s.tZ)(Ue.Z,{}),(0,s.tZ)(Y.x,{children:"View all comments"})]})]}),r&&(0,s.tZ)(S.ZP,{css:[I.l0.justify.center,I.l0.align.center],children:(0,s.tZ)(v.Z,{size:32})}),t&&(0,s.tZ)(S.ZP,{css:[I.l0.flex.row],children:(0,s.BX)(Y.x,{variant:"small",color:"dimmer",children:["Recent comments (",t.commentCount,")"]})}),i.filter((function(e){return!e.isHidden})).map((function(e){return(0,s.BX)(S.ZP,{css:[I.l0.flex.row,I.l0.pt(8)],children:[e.user&&(0,s.tZ)(S.ZP,{children:(0,s.tZ)(Se.Yt,{user:e.user})}),(0,s.BX)(S.ZP,{css:[I.l0.pl(8),I.l0.flex.shrink(2)],children:[e.user&&(0,s.tZ)(Se.wb,{user:e.user,timeCreated:e.timeCreated}),(0,s.tZ)(Y.x,{multiline:!0,css:[I.l0.flex.shrink(2)],children:(0,s.tZ)(Ce.ZP,{children:e.body})})]})]},e.id)}))]}):null},Ee=t(58057),Be=function(e){var n,t,r,i,a,u,d,f=e.repl,p=(0,l.Z)(c.useState(!1),2),h=p[0],v=p[1],m=(0,Re.ex)({variables:{replId:f.id,count:6}}),g=m.data,b=m.loading,w=m.refetch,x=!(null===(n=f.source)||void 0===n||null===(t=n.deployment)||void 0===t||null===(r=t.repl)||void 0===r?void 0:r.owner),y=(null===(i=f.source)||void 0===i||null===(a=i.deployment)||void 0===a?void 0:a.repl)&&(0,ne.aq)(f.source.deployment.repl),P=(0,ne.j3)(f),R="Repl"===(null===g||void 0===g?void 0:g.repl.__typename)?g.repl:null,k=null!==(d=null===R||void 0===R||null===(u=R.comments)||void 0===u?void 0:u.items)&&void 0!==d?d:[];return(0,s.BX)(S.ZP,{css:[I.l0.pl(16),{flex:"0 1 300px"}],children:[(x||!y)&&(0,s.BX)(Y.x,{children:["Made with ",f.lang.displayName]}),!x&&y&&(0,s.BX)(Y.x,{children:["Made with"," ",(0,s.tZ)(Pe(),(0,Z.Z)((0,o.Z)({},y),{children:(0,s.tZ)("a",{children:f.templateInfo.label})}))]}),f.description&&(0,s.tZ)(S.ZP,{css:[I.l0.overflowY("auto"),I.l0.pt(8),I.l0.flex.growAndShrink(1)],children:(0,s.tZ)(Ce.ZP,{css:{backgroundColor:"transparent"},children:f.description})}),(0,s.tZ)(Ie,{loading:b,repl:R,comments:k,spotlightLinkProps:P}),(0,s.BX)(S.ZP,{css:[I.l0.zIndex(2)],children:[0!==k.length&&(0,s.tZ)(S.ZP,{css:[I.l0.width("100%"),I.l0.position.relative,I.l0.top(-10),{boxShadow:"0px -8px 12px 8px var(--background-default)",border:"1px solid var(--background-default)"}]}),h?(0,s.tZ)(Ee.H,{autoFocus:!0,onCancel:function(){return v(!1)},onComment:function(){w()},replId:f.id,placeholder:f?"Say something about ".concat(f.title):""}):(0,s.tZ)(ie.ZP,{text:"Leave a comment",iconLeft:(0,s.tZ)(ke.Z,{}),onClick:function(){return v(!0)}})]})]})},_e=t(80658),Me=function(e){var n=e.currentUser,t=e.user,r=e.refetchRepls,a=e.repl,u=e.width,d=(0,f.useRouter)(),p=(0,l.Z)(c.useState(!1),2),h=p[0],v=p[1],m=(0,l.Z)(c.useState(!1),2),g=m[0],b=m[1],w=(0,l.Z)(c.useState(!1),2),x=w[0],y=w[1],P=(0,l.Z)((0,re.Z)({onError:function(){C("Error forking repl")}}),2),R=P[0],k=P[1].loading,C=(0,K.Z)().showError,U=(0,l.Z)(H({onCompleted:function(e){"Repl"===e.unpinReplFromProfile2.__typename?(r(),(0,M.j)(M.U3.PINNED_REPL_UNPIN,{replId:e.unpinReplFromProfile2.id})):C("Error removing repl from showcase")}}),1)[0],E=(0,ne.aq)(a),B=(0,ne.j3)(a),_=c.useCallback((function(){(null===a||void 0===a?void 0:a.url)&&(0,ge.Z)("".concat(window.location.origin).concat(a.url))}),[a.url]),D=c.useCallback((function(e){switch(e){case"edit":d.push(E.href,E.as);break;case"delete":v(!0);break;case"unpin":U({variables:{replId:a.id}});break;case"copy_link":_();break;case"cover_page":d.push(B.href,B.as)}}),[_,E,B,d,a,U]),T=(0,l.Z)(c.useState(0),2),L=T[0],A=T[1],N=(0,l.Z)(c.useState(!0),2),j=N[0],z=N[1];c.useEffect((function(){u<900?(A(u/1.7),z(!1)):(A(u/2),z(!0))}),[u]);var V,F=(null===n||void 0===n?void 0:n.id)===t.id,$=a.publishedAs===W.O2.Template?{text:k?"Forking...":"Use Template",icon:(0,s.tZ)(q.Z,{}),count:a.publicReleasesForkCount}:{text:k?"Forking...":"Fork Repl",icon:(0,s.tZ)(Q.Z,{}),count:a.publicForkCount},ie=(0,s.tZ)(te.Z,(0,Z.Z)((0,o.Z)({},$),{onClick:function(){k||y(!0)},icon:(0,s.tZ)(Q.Z,{}),colorway:"primary",onCountClick:function(){return b(!0)}}));return(0,s.BX)(O.Z,{background:"default",css:[I.l0.colWithGap(16),I.l0.p(16),I.l0.width("100%"),(0,i.Z)({},(0,G.et)("tabletMin"),[I.l0.borderRadius(16)])],children:[(0,s.BX)(S.ZP,{css:[I.l0.flex.row,I.l0.justify.spaceBetween,I.l0.flex.wrap],children:[(0,s.tZ)(Y.h,{variant:"headerDefault",level:2,children:a.title}),(0,s.BX)(S.ZP,{css:[I.l0.rowWithGap(8),I.l0.pt(8)],children:[(F||!j)&&(0,s.tZ)(me,{onSelect:D,showExtendedOptions:!j,isOwner:F}),j&&(0,s.tZ)(be,{repl:a}),j&&(0,s.tZ)(xe,{spotlightLinkProps:B}),j&&ie]})]}),(0,s.BX)(S.ZP,{css:[I.l0.flex.row,I.l0.height(L)],children:[(0,s.tZ)(S.ZP,{css:[I.l0.flex.grow(2),I.l0.display.grid],children:(0,s.tZ)(ee.Z,{currentUser:n||void 0,repl:a})}),j&&(0,s.tZ)(Be,{repl:a})]}),!j&&(0,s.tZ)(S.ZP,{css:[I.l0.align.end],children:ie}),(0,s.tZ)(X.Z,{isOpen:h,onRequestClose:function(){return v(!1)},children:(0,s.tZ)(ae,{repl:a,onCancel:function(){return v(!1)},onDelete:r})}),(0,s.tZ)(X.Z,{isOpen:g,onRequestClose:function(){return b(!1)},children:(0,s.tZ)(J.Z,{replId:a.id})}),(0,s.tZ)(X.Z,{isOpen:x,onRequestClose:function(){return y(!1)},children:(0,s.tZ)(_e.Z,{onFork:function(e,n,t,r){var i,o;R({originId:a.id,replReleaseId:(null===(i=a.deployment)||void 0===i||null===(o=i.activeRelease)||void 0===o?void 0:o.id)||void 0,trackingData:{forkSource:"profileShowcase",isApp:a.publishedAs===W.O2.App,isTemplate:a.publishedAs===W.O2.Template},teamId:e,title:n,description:t,isPrivate:r,forkToPersonal:!e})},initialTitle:a.title,initialDescription:null!==(V=a.description)&&void 0!==V?V:"",initialPrivacy:!1,hideModal:function(){return y(!1)},teamContext:null===n||void 0===n?void 0:n.username})})]})},De=t(35450);function Te(){var e=(0,b.Z)(["\n  fragment ReplSelectorRepl on Repl {\n    id\n    title\n    timeUpdated\n    url\n    slug\n    owner {\n      ... on User {\n        id\n        username\n        image\n        fullName\n      }\n      ... on Team {\n        id\n        username\n        image\n      }\n    }\n    iconUrl\n    templateLabel\n  }\n"]);return Te=function(){return e},e}function Xe(){var e=(0,b.Z)(["\n  query ReplSelector($search: String!, $excludePrivate: Boolean) {\n    currentUser {\n      id\n      replSearch(search: $search, excludePrivate: $excludePrivate) {\n        id\n        ...ReplSelectorRepl\n      }\n    }\n  }\n  ","\n"]);return Xe=function(){return e},e}var Ge={},Oe=(0,w.ZP)(Te()),We=(0,w.ZP)(Xe(),Oe);var Le=t(96594),Ae=t(24351),Ne=t(93604),je=t(16965),ze=t(53427),Ve=t(70917),Fe=t(44044),$e=t(87653),He=t(25019),Ye=t(4306),qe=(0,S.KD)("input"),Qe=(0,S.KD)("div"),Ke=(0,S.KD)("li"),Je=(0,Ve.iv)([Fe.gU.filled,I.l0.p(8),{color:I.TV.foregroundDefault,border:"0 none",outline:"0 none",fontSize:I.TV.fontSizeDefault,lineHeight:"16px",display:"block",width:"100%","::placeholder":{color:I.TV.foregroundDimmer},":not([disabled])":{cursor:"text"}}]);function en(e){var n,t=e.disabled,r=e.filter,i=e.manualSelect,a=e.excludePrivate,u=e.onSelect,d=e.selectedIconOverride,f=e.showComboBox,p=void 0===f||f,h=(0,l.Z)(c.useState([]),2),m=h[0],b=h[1],w=(0,l.Z)(c.useState(""),2),x=w[0],y=w[1],P=c.useRef(null),k=r?m.filter(r):m,C=(0,Le.Kb)({items:k,initialHighlightedIndex:i?-1:0,itemToString:function(e){var n;return e?"".concat(null===(n=e.owner)||void 0===n?void 0:n.username,"/").concat(e.title):""}});c.useEffect((function(){return y(C.inputValue)}),[C.inputValue]);var U=function(e){var n=(0,o.Z)({},Ge,e);return R.useQuery(We,n)}({variables:{search:(0,Ae.Z)(x,100),excludePrivate:a},onCompleted:function(e){if(!e.currentUser)throw new Error("Expected currentUser");e.currentUser.replSearch?b(e.currentUser.replSearch.reduce((function(e,n){return n?(0,g.Z)(e).concat([n]):e}),[])):b([])}}).loading,E=(0,je.Z)(u);c.useEffect((function(){var e;C.selectedItem&&(null===(e=P.current)||void 0===e||e.blur(),E.current(C.selectedItem))}),[C.selectedItem,E]);var B=(null===(n=C.selectedItem)||void 0===n?void 0:n.iconUrl)&&C.inputValue?(0,s.tZ)(S.ZP,{css:[I.l0.px(8),I.l0.center,{position:"absolute",top:0,left:0,height:"100%"}],children:d||(0,s.tZ)(ze.ZP,{alt:C.selectedItem.title,iconUrl:C.selectedItem.iconUrl,size:16})}):null;return(0,s.BX)(S.ZP,{css:[{position:"relative"}],children:[(0,s.BX)(Qe,(0,Z.Z)((0,o.Z)({},C.getComboboxProps()),{css:{position:"relative"},children:[B,(0,s.tZ)(qe,(0,o.Z)({css:[Je,I.l0.pr(32),B&&I.l0.pl(32)]},C.getInputProps({ref:P,placeholder:"Search for a Repl",onFocus:p?function(e){C.selectedItem&&(e.preventDefault(),e.currentTarget.select(),y("")),C.openMenu()}:void 0}))),(0,s.tZ)(S.ZP,{css:[I.l0.center,I.l0.px(8),{position:"absolute",top:0,right:0,height:"100%"}],children:(0,s.tZ)($e.Z,{})})]})),(0,s.tZ)(Qe,(0,Z.Z)((0,o.Z)({},C.getMenuProps()),{css:{position:"relative"},children:C.isOpen&&!t?(0,s.BX)(He.Z,{children:[U?(0,s.tZ)(Ke,{css:[I.l0.center,I.l0.py(32)],children:(0,s.tZ)(v.Z,{})}):null,k.length||U?null:(0,s.tZ)(Ke,{css:[I.l0.center,I.l0.py(32)],children:(0,s.BX)(Y.x,{color:"dimmer",variant:"small",children:["No ",m.length>0?"more ":null,"repls found"]})}),k.map((function(e,n){return(0,s.tZ)(Ke,(0,Z.Z)((0,o.Z)({},C.getItemProps({item:e,index:n})),{children:(0,s.tZ)(Ye.Z,{filter:x,title:e.title,subtitle:(0,Ne.F)(e.timeUpdated),selected:C.selectedItem===e,highlighted:C.highlightedIndex===n,icon:e.iconUrl?(0,s.tZ)(ze.ZP,{iconUrl:e.iconUrl,alt:e.title,size:16}):void 0})}),e.id)}))]}):null}))]})}var nn=t(71471),tn=function(e){var n=e.onSelect,t=e.showcasedRepls,r=e.showComboBox,i=void 0===r||r,a=(0,K.Z)(),u=a.showConfirm,c=a.showError,d=(0,l.Z)(function(e){var n=(0,o.Z)({},z,e);return R.useMutation(F,n)}({onCompleted:function(e){"Repl"===e.pinReplToProfile2.__typename?(u("Repl added to showcase"),n(),(0,M.j)(M.U3.PINNED_REPL_PIN,{replId:e.pinReplToProfile2.id})):c("Error adding repl to showcase")},onError:function(e){c(e.message)}}),2),f=d[0],p=d[1],h=(0,l.Z)(H({onCompleted:function(e){"Repl"===e.unpinReplFromProfile2.__typename?(u("Repl removed from showcase"),n(),(0,M.j)(M.U3.PINNED_REPL_UNPIN,{replId:e.unpinReplFromProfile2.id})):c("Error removing repl from showcase")},onError:function(e){c(e.message)}}),2),v=h[0],m=h[1].loading||p.loading;return(0,s.BX)(S.ZP,{css:[I.l0.colWithGap(16)],children:[(0,s.tZ)(Y.h,{level:2,variant:"headerDefault",children:"Pick a Repl to showcase:"}),(0,s.tZ)(en,{disabled:m,filter:function(e){return!t.find((function(n){return n.id===e.id}))},manualSelect:!0,onSelect:function(e){t.find((function(n){return n.id===e.id}))||f({variables:{replId:e.id}})},showComboBox:i}),t.length>0?(0,s.BX)(S.ZP,{css:[I.l0.pt(8),I.l0.colWithGap(8)],children:[(0,s.tZ)(Y.h,{level:3,variant:"subheadDefault",children:"Current Repls showcased:"}),t.map((function(e){return(0,s.BX)(O.Z,{background:"higher",css:[I.l0.flex.row,I.l0.justify.spaceBetween,I.l0.align.center,I.l0.p(8),I.l0.borderRadius(8)],children:[(0,s.BX)(S.ZP,{css:[I.l0.rowWithGap(8)],children:[(0,s.tZ)(nn.Z,{size:16,alt:e.title,iconUrl:e.iconUrl}),(0,s.tZ)(Y.x,{css:[I.l0.color.foregroundDefault,{textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap"}],children:e.title})]}),(0,s.tZ)(ie.ZP,{disabled:m,outlined:!0,onClick:function(){return v({variables:{replId:e.id}})},text:"Remove"})]},e.id)}))]}):null]})},rn=t(94184),on=t.n(rn),ln=t(96189),an=t(82908),un=t(82730),sn=function(e){var n=e.currentUser,t=e.user,r=e.refetchRepls,a=t.pinnedRepls||[],u=(0,l.Z)(c.useState(!1),2),d=u[0],f=u[1],p=(0,l.Z)(c.useState(0),2),h=p[0],v=p[1],m=(0,l.Z)(c.useState(0),2),g=m[0],b=m[1],w=(0,l.Z)(c.useState(!1),2),x=w[0],y=w[1],P=(0,l.Z)((0,un.useKeenSlider)({controls:!x,initial:0,slideChanged:function(e){var n=e.details().relativeSlide;v(n)}}),2),R=P[0],k=P[1],C=(0,an.Z)(),U=(0,ln.Z)((function(e){k&&k.resize(),e.width&&(b(e.width),e.width<800?y(!1):y(!0))}));c.useEffect((function(){k&&(C(),k.refresh())}),[t.pinnedRepls,k,C]);var E=(null===n||void 0===n?void 0:n.id)===t.id;return(0,s.BX)(S.ZP,{css:[I.l0.flex.grow(2),(0,i.Z)({},(0,G.et)("tabletMin"),[I.l0.px(16)])],children:[(0,s.BX)(S.ZP,{tag:"div",css:[I.l0.width("100%"),I.l0.position.relative,I.l0.colWithGap(16)],innerRef:U,children:[x&&(0,s.tZ)(De.t,{dir:"left",slider:k,currentSlide:h}),(0,s.tZ)("ul",{ref:R,className:"keen-slider",css:[{userSelect:"auto",touchAction:"auto",listStyleType:"none"}],children:a.map((function(n){return(0,s.tZ)("li",{className:on()("keen-slider__slide"),css:{flex:"1 0 auto"},children:(0,s.tZ)(Me,(0,Z.Z)((0,o.Z)({},e),{repl:n,width:g}))},n.id)}))}),x&&(0,s.tZ)(De.t,{dir:"right",slider:k,currentSlide:h}),(0,s.tZ)(De.a,{isOwner:E,currentSlide:h,slider:k,openPickModal:function(){return f(!0)}})]}),(0,s.tZ)(X.Z,{isOpen:d,onRequestClose:function(){return f(!1)},children:(0,s.tZ)(tn,{onSelect:r,showcasedRepls:a,showComboBox:!1})})]})};function cn(){var e=(0,b.Z)(["\n  query TeamRedirect($username: String!) {\n    team: teamByUsername(username: $username) {\n      ... on Team {\n        id\n        isMember\n      }\n    }\n  }\n"]);return cn=function(){return e},e}var dn={},fn=(0,w.ZP)(cn());function pn(e){var n=e.username,t=(0,f.useRouter)(),r=function(e){var n=(0,o.Z)({},dn,e);return R.useQuery(fn,n)}({variables:{username:n}}),i=r.data,l=r.loading;return c.useEffect((function(){i&&!l&&"Team"===i.team.__typename&&i.team.isMember&&t.replace({pathname:"/teamProfile",query:{teamname:n}},"/team/".concat(n))}),[t,n,i,l]),null}var hn=t(44778),vn=t(28898),mn=t(87045);function Zn(){var e=(0,b.Z)(["\n  mutation ReportUser($reportedUserId: Int, $reason: String!) {\n    createBoardReport(reportedUserId: $reportedUserId, reason: $reason) {\n      __typename\n      id\n      reportedUser {\n        id\n      }\n    }\n  }\n"]);return Zn=function(){return e},e}function gn(){var e=(0,b.Z)(["\n  mutation SetBlocking($input: SetBlockingInput!) {\n    setBlocking(input: $input) {\n      ... on User {\n        __typename\n        id\n        username\n        followers {\n          items {\n            id\n            username\n          }\n        }\n        followerCount\n        follows {\n          items {\n            id\n            username\n          }\n        }\n        followCount\n      }\n      ... on NotFoundError {\n        __typename\n        message\n      }\n      ... on UnauthorizedError {\n        __typename\n        message\n      }\n    }\n  }\n"]);return gn=function(){return e},e}var bn={},wn=(0,w.ZP)(Zn());var xn=(0,w.ZP)(gn());var yn=t(59369),Pn=t(53429),Rn=t(67177),kn=t(18622),Cn=t(88808),Un=t(47024),Sn=t(30332),In=t(45273),En=t(4972),Bn=t(82447),_n=t(16092);function Mn(){var e=(0,b.Z)(["\n  fragment FollowModalUser on User {\n    ...UserLinkUser\n    id\n    username\n    fullName\n    image\n    isFollowedByCurrentUser\n    followerCount\n  }\n  ","\n"]);return Mn=function(){return e},e}function Dn(){var e=(0,b.Z)(["\n  query FollowModalFollowers($username: String!, $after: String, $count: Int) {\n    currentUser {\n      id\n    }\n    user: userByUsername(username: $username) {\n      id\n      followers(after: $after, count: $count) {\n        items {\n          id\n          ...FollowModalUser\n        }\n        pageInfo {\n          hasNextPage\n          nextCursor\n        }\n      }\n    }\n  }\n  ","\n"]);return Dn=function(){return e},e}function Tn(){var e=(0,b.Z)(["\n  query FollowModalFollows($username: String!, $after: String, $count: Int) {\n    currentUser {\n      id\n    }\n    user: userByUsername(username: $username) {\n      id\n      follows(after: $after, count: $count) {\n        items {\n          id\n          ...FollowModalUser\n        }\n        pageInfo {\n          hasNextPage\n          nextCursor\n        }\n      }\n    }\n  }\n  ","\n"]);return Tn=function(){return e},e}var Xn={},Gn=(0,w.ZP)(Mn(),_n._),On=(0,w.ZP)(Dn(),Gn);var Wn=(0,w.ZP)(Tn(),Gn);var Ln=t(99534),An=function(e){var n=e.active,t=e.children;return(0,s.tZ)(S.ZP,{children:(0,s.tZ)(Y.x,{variant:"headerDefault",css:[I.l0.cursor.pointer,n?I.l0.color.foregroundDefault:I.l0.color.foregroundDimmest,{":hover":{color:I.TV.foregroundDefault}}],children:t})})},Nn=function(e){var n=e.active,t=e.children,r=e.href,i=(0,Ln.Z)(e,["active","children","href"]);return(0,s.tZ)(Pe(),(0,Z.Z)((0,o.Z)({href:r},i),{passHref:!0,scroll:!1,children:(0,s.tZ)("a",{css:{textDecoration:"none"},children:(0,s.tZ)(An,{active:n,children:t})})}))},jn=t(33319),zn=function(e){var n=e.user,t=e.currentUser,r=n.id===(null===t||void 0===t?void 0:t.id);return(0,s.BX)(D.G7,{tag:"li",css:[D.l0.p(8),D.l0.rowWithGap(8),D.l0.align.center,Fe.gU.nofill],children:[(0,s.tZ)(Pe(),(0,Z.Z)((0,o.Z)({},(0,Bn.Ru)(n)),{passHref:!0,children:(0,s.BX)(D.G7,{tag:"a",css:[{color:"unset"},D.l0.rowWithGap(8),D.l0.flex.growAndShrink(1),D.l0.align.center,D.l0.focusRing],children:[(0,s.tZ)(In.Z,{size:40,username:n.username,src:n.image}),(0,s.BX)(D.G7,{css:[D.l0.flex.growAndShrink(1)],children:[(0,s.tZ)(D.xv,{children:n.fullName}),(0,s.BX)(D.xv,{variant:"small",color:"dimmer",children:["@",n.username]})]})]})})),!r&&(0,s.tZ)(Un.Z,{user:n})]})},Vn=function(){return(0,s.tZ)(D.G7,{css:[D.l0.height(40),D.l0.flex.row,D.l0.align.center,D.l0.justify.center],children:(0,s.tZ)(v.Z,{size:24})})},Fn=function(e){var n=e.text;return(0,s.BX)(D.G7,{css:[D.l0.height(208),D.l0.align.center,D.l0.justify.spaceEvenly,D.l0.textAlign.center],children:[(0,s.tZ)(D.xv,{variant:"subheadDefault",multiline:!0,children:n}),(0,s.tZ)(D.ZP,{href:"/community",text:"Go to Community",colorway:"primary",iconLeft:(0,s.tZ)(jn.Z,{})})]})},$n=function(e,n,t){var i,o=(null===e||void 0===e||null===(i=e.pageInfo)||void 0===i?void 0:i.hasNextPage)||!1,l=c.useCallback((0,r.Z)(u().mark((function r(){var i;return u().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(null===e||void 0===e?void 0:e.pageInfo.hasNextPage){r.next=2;break}return r.abrupt("return");case 2:return i=null===e||void 0===e?void 0:e.pageInfo.nextCursor,r.next=5,t({variables:{username:n,after:i,count:20}});case 5:case"end":return r.stop()}}),r)}))),[e,t,n]);return{hasMore:o,ref:(0,En.Z)({onLoadMore:l}).targetRef,loadMore:l}},Hn=function(e){var n,t,r,i=e.username,l=function(e){var n=(0,o.Z)({},Xn,e);return R.useQuery(On,n)}({variables:{username:i,count:20},notifyOnNetworkStatusChange:!0}),a=l.data,u=l.loading,c=l.error,d=l.fetchMore,f=$n(null===a||void 0===a||null===(n=a.user)||void 0===n?void 0:n.followers,i,d),p=f.hasMore,h=f.ref,v=f.loadMore;if(c)return(0,s.BX)(D.G7,{children:[(0,s.tZ)(D.xv,{children:"An error has occurred."}),(0,s.tZ)(D.xv,{children:c.message})]});if(!u&&0===(null===a||void 0===a||null===(t=a.user)||void 0===t?void 0:t.followers.items.length)){var m,Z,g=(null===a||void 0===a||null===(m=a.currentUser)||void 0===m?void 0:m.id)===(null===a||void 0===a||null===(Z=a.user)||void 0===Z?void 0:Z.id)?"No followers yet. Get others to follow you by engaging with them in Community!":"Nothing to see here. Check out what's new in Community!";return(0,s.tZ)(Fn,{text:g})}return(0,s.BX)(D.G7,{tag:"ul","aria-busy":u,css:D.l0.colWithGap(16),children:[a&&(null===(r=a.user)||void 0===r?void 0:r.followers.items.map((function(e){return(0,s.tZ)(zn,{user:e,currentUser:a.currentUser},e.id)}))),u&&(0,s.tZ)(Vn,{}),p&&!u&&(0,s.tZ)(D.zx,{text:"Load more",ref:h,onClick:v})]})},Yn=function(e){var n,t,r,i=e.username,l=function(e){var n=(0,o.Z)({},Xn,e);return R.useQuery(Wn,n)}({variables:{username:i,count:20},notifyOnNetworkStatusChange:!0}),a=l.data,u=l.loading,c=l.error,d=l.fetchMore,f=$n(null===a||void 0===a||null===(n=a.user)||void 0===n?void 0:n.follows,i,d),p=f.hasMore,h=f.ref,v=f.loadMore;if(c)return(0,s.BX)(D.G7,{children:[(0,s.tZ)(D.xv,{children:"An error has occurred."}),(0,s.tZ)(D.xv,{children:c.message})]});if(!u&&0===(null===a||void 0===a||null===(t=a.user)||void 0===t?void 0:t.follows.items.length)){var m,Z,g=(null===a||void 0===a||null===(m=a.currentUser)||void 0===m?void 0:m.id)===(null===a||void 0===a||null===(Z=a.user)||void 0===Z?void 0:Z.id)?"You aren\u2019t following anyone yet. Check out the cool creators in Community!":"".concat(i," hasn\u2019t followed anyone yet.");return(0,s.tZ)(Fn,{text:g})}return(0,s.BX)(D.G7,{tag:"ul","aria-busy":u,children:[a&&(null===(r=a.user)||void 0===r?void 0:r.follows.items.map((function(e){return(0,s.tZ)(zn,{user:e,currentUser:a.currentUser},e.id)}))),u&&(0,s.tZ)(Vn,{}),p&&!u&&(0,s.tZ)(D.zx,{text:"Load more",ref:h,onClick:v})]})},qn=function(e){var n=e.username,t=e.initialTab,r=void 0===t?"following":t;return(0,s.tZ)(Sn.mQ,{defaultIndex:"followers"===r?0:1,css:D.l0.p(16),children:function(e){var t=e.selectedIndex;return(0,s.BX)(s.HY,{children:[(0,s.BX)(Sn.td,{css:[D.l0.rowWithGap(24)],children:[(0,s.tZ)(Sn.OK,{css:D.l0.reset.button,children:(0,s.tZ)(An,{active:0===t,children:"Followers"})}),(0,s.tZ)(Sn.OK,{css:D.l0.reset.button,children:(0,s.tZ)(An,{active:1===t,children:"Following"})})]}),(0,s.BX)(Sn.nP,{css:[D.l0.mt(16)],children:[(0,s.tZ)(Sn.x4,{children:(0,s.tZ)(Hn,{username:n})}),(0,s.tZ)(Sn.x4,{children:(0,s.tZ)(Yn,{username:n})})]})]})}})};function Qn(){var e=(0,b.Z)(["\n  fragment EditProfileModalCurrentUserInfo on CurrentUser {\n    id\n    firstName\n    lastName\n    bio\n  }\n"]);return Qn=function(){return e},e}function Kn(){var e=(0,b.Z)(["\n  fragment EditProfileCurrentUserSocials on CurrentUser {\n    id\n    hasPrivacyRole\n    socials {\n      id\n      url\n      type\n    }\n  }\n"]);return Kn=function(){return e},e}function Jn(){var e=(0,b.Z)(["\n  query EditProfileModal {\n    currentUser {\n      id\n      ...EditProfileModalCurrentUserInfo\n      ...EditProfileCurrentUserSocials\n    }\n  }\n  ","\n  ","\n"]);return Jn=function(){return e},e}function et(){var e=(0,b.Z)(["\n  mutation EditProfileModalCurrentUserUpdateProfileImage($imageId: Int!) {\n    updateCurrentUser(input: { profileImageId: $imageId }) {\n      id\n      image\n    }\n  }\n"]);return et=function(){return e},e}function nt(){var e=(0,b.Z)(["\n  mutation EditProfileModalCurrentUserUpdate(\n    $userInfoInput: UpdateCurrentUserInput!\n    $socialInput: SetUserSocialsInput!\n  ) {\n    updateCurrentUser(input: $userInfoInput) {\n      id\n      ...EditProfileModalCurrentUserInfo\n    }\n    setUserSocials(input: $socialInput) {\n      ... on CurrentUser {\n        id\n        ...EditProfileCurrentUserSocials\n      }\n      ... on UserError {\n        message\n      }\n    }\n  }\n  ","\n  ","\n"]);return nt=function(){return e},e}var tt={},rt=(0,w.ZP)(Qn()),it=(0,w.ZP)(Kn()),ot=(0,w.ZP)(Jn(),rt,it);var lt=(0,w.ZP)(et());var at=(0,w.ZP)(nt(),rt,it);var ut,st,ct=t(37424),dt=t(62441),ft=t(69426),pt=t(30992),ht=t(61469),vt=/^([A-Za-z0-9_]{1,15})\/?$/g,mt=/^(([A-Za-z0-9]+)|-)*\/?$/g,Zt=/^([A-Za-z\d](?:[A-Za-z\d]|-){0,38})\/?$/g,gt=/^https:\/\/(www\.)?youtube\.com(\/(c|channel|user))*\/(([A-Za-z0-9_]+)|-)*\/?$/g,bt=/^.{2,32}#[0-9]{4}$/,wt="https://twitter.com/",xt="https://www.linkedin.com/in/",yt="https://github.com/",Pt=/\/$/,Rt=t(88075),kt=function(e){var n=e.image,t=e.hasPrivacyRole,a=(0,K.Z)(),c=a.showError,d=a.showConfirm,f=(0,l.Z)(function(e){var n=(0,o.Z)({},tt,e);return R.useMutation(lt,n)}({onCompleted:function(){return d("Updated profile image")},onError:function(e){return c(e.message)}}),1)[0];return(0,s.tZ)(D.G7,{css:[(0,i.Z)({width:80},(0,G.et)("tabletMax"),{width:160})],children:(0,s.tZ)(dt.Z,{currentUser:{image:n,hasPrivacyRole:t},onChange:function(){var e=(0,r.Z)(u().mark((function e(n){var t;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.imageId,e.next=3,f({variables:{imageId:t}});case 3:(0,M.j)(M.U3.PROFILE_EDITED,{surface:"profile_image"});case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()})})},Ct=function(e){var n=e.label,t=e.multiline,r=void 0!==t&&t,i=(0,Ln.Z)(e,["label","multiline"]),l=(0,ct.H)()(n);return r?(0,s.BX)(D.G7,{css:[D.l0.colWithGap(8)],children:[(0,s.tZ)("label",{htmlFor:l,children:n}),(0,s.tZ)(D.B,(0,Z.Z)((0,o.Z)({id:l},i),{css:[D.l0.minHeight(64),D.l0.maxHeight(96),{resize:"vertical"}]}))]}):(0,s.BX)(D.G7,{css:[D.l0.colWithGap(8)],children:[(0,s.tZ)("label",{htmlFor:l,children:n}),(0,s.tZ)(D.II,(0,o.Z)({id:l},i))]})},Ut=function(e,n){var t,r="",i=!0;switch(n){case W.bk.Twitter:r=wt;break;case W.bk.Linkedin:r=xt;break;case W.bk.Github:r=yt;break;case W.bk.Youtube:break;case W.bk.Discord:case W.bk.Website:i=!1}var o=null===(t=e.find((function(e){return e.type.valueOf()===n.valueOf()})))||void 0===t?void 0:t.url;return r&&(o=null===o||void 0===o?void 0:o.replace(r,"")),i&&(o=null===o||void 0===o?void 0:o.replace(Pt,"")),o},St=function(e){var n,t,i,a=e.onUpdate,d=e.onRequestClose,f=(0,K.Z)().showConfirm,p=(0,pt.Y)("",(function(){return null})),h=(0,pt.Y)("",(function(){return null})),v=(0,pt.Y)("",(function(e){return(null===e||void 0===e?void 0:e.length)>140?{message:"Maximum length 140 characters"}:null})),m=(0,c.useRef)(),Z=(0,c.useRef)(),g=(0,c.useRef)(),b=(0,c.useRef)(),w=(0,c.useRef)(),x=(0,c.useRef)(),y=(0,c.useRef)(),P=(0,pt.Y)(void 0,(function(e){if(e&&!vt.test(e.replace(wt,"")))return{message:'Profile must be a valid Twitter username or URL ("username" or "https://twitter.com/username")'}})),k=(0,pt.Y)(void 0,(function(e){if(e&&!mt.test(e.replace(xt,"")))return{message:'Profile must be a valid Linkedin username or URL ("username" or "https://linkedin.com/in/username")'}})),C=(0,pt.Y)(void 0,(function(e){if(e&&!Zt.test(e.replace(yt,"")))return{message:'Profile must be a valid GitHub username or URL ("username" or "https://github.com/username")'}})),U=(0,pt.Y)(void 0,(function(e){if(e&&!gt.test(e))return{message:"Profile URL must match https://www.youtube.com/c/id or https://www.youtube.com/channel/id"}})),S=(0,pt.Y)(void 0,(function(e){if(e&&!bt.test(e))return{message:"Discord username must match username#number"}})),I=(0,pt.Y)(void 0,(function(){return null})),E=function(e){var n=(0,o.Z)({},tt,e);return R.useQuery(ot,n)}(),B=E.data,_=E.error,T=E.loading,X=(0,l.Z)(function(e){var n=(0,o.Z)({},tt,e);return R.useMutation(at,n)}({onCompleted:function(e){var n;"CurrentUser"===e.setUserSocials.__typename&&"CurrentUser"===(null===(n=e.updateCurrentUser)||void 0===n?void 0:n.__typename)&&(f("Updated profile"),a(),d())}}),2),G=X[0],O=X[1];(0,c.useEffect)((function(){var e;"CurrentUser"===(null===B||void 0===B||null===(e=B.currentUser)||void 0===e?void 0:e.__typename)&&(m.current=B.currentUser.bio,Z.current=Ut(B.currentUser.socials,W.bk.Twitter),b.current=Ut(B.currentUser.socials,W.bk.Github),g.current=Ut(B.currentUser.socials,W.bk.Linkedin),w.current=Ut(B.currentUser.socials,W.bk.Youtube),x.current=Ut(B.currentUser.socials,W.bk.Discord),y.current=Ut(B.currentUser.socials,W.bk.Website))}),[null===B||void 0===B||null===(n=B.currentUser)||void 0===n?void 0:n.__typename]),c.useEffect((function(){var e;"CurrentUser"===(null===B||void 0===B||null===(e=B.currentUser)||void 0===e?void 0:e.__typename)&&(p.setValue(B.currentUser.firstName||""),h.setValue(B.currentUser.lastName||""),v.setValue(B.currentUser.bio||""),P.setValue(Ut(B.currentUser.socials,W.bk.Twitter)),C.setValue(Ut(B.currentUser.socials,W.bk.Github)),k.setValue(Ut(B.currentUser.socials,W.bk.Linkedin)),U.setValue(Ut(B.currentUser.socials,W.bk.Youtube)),S.setValue(Ut(B.currentUser.socials,W.bk.Discord)),I.setValue(Ut(B.currentUser.socials,W.bk.Website)))}),[null===B||void 0===B?void 0:B.currentUser]);var L=c.useCallback((0,r.Z)(u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,G({variables:{userInfoInput:{firstName:p.value,lastName:h.value,bio:v.value},socialInput:{socials:[{type:W.bk.Twitter,url:P.value||void 0},{type:W.bk.Github,url:C.value||void 0},{type:W.bk.Linkedin,url:k.value||void 0},{type:W.bk.Youtube,url:U.value||void 0},{type:W.bk.Discord,url:S.value||void 0},{type:W.bk.Website,url:I.value||void 0}]}}});case 2:m.current!==v.value&&((0,M.j)(M.U3.PROFILE_EDITED,{surface:"bio"}),m.current=v.value),Z.current!==P.value&&(0,M.j)(M.U3.PROFILE_EDITED,{social_link:"twitter",surface:"social_link"}),g.current!==k.value&&(0,M.j)(M.U3.PROFILE_EDITED,{social_link:"linkedin",surface:"social_link"}),b.current!==C.value&&(0,M.j)(M.U3.PROFILE_EDITED,{social_link:"github",surface:"social_link"}),w.current!==U.value&&(0,M.j)(M.U3.PROFILE_EDITED,{social_link:"youtube",surface:"social_link"}),x.current!==S.value&&(0,M.j)(M.U3.PROFILE_EDITED,{social_link:"discord",surface:"social_link"}),y.current!==I.value&&(0,M.j)(M.U3.PROFILE_EDITED,{social_link:"website",surface:"social_link"});case 9:case"end":return e.stop()}}),e)}))),[p.value,h.value,v.value,I.value,S.value,U.value,k.value,P.value,C.value,G]),A=B&&"CurrentUser"===(null===(t=B.currentUser)||void 0===t?void 0:t.__typename)&&B.currentUser;return A&&A.hasPrivacyRole?(0,s.tZ)(D.G7,{css:D.l0.align.center,children:(0,s.tZ)(D.xv,{children:"You can\u2019t edit your profile settings since you are an education user."})}):(0,s.tZ)(D.G7,{children:T?(0,s.tZ)(D.G7,{css:D.l0.align.center,children:(0,s.tZ)(ft.Z,{})}):_?(0,s.tZ)(D.G7,{css:D.l0.align.center,children:(0,s.BX)(D.xv,{children:["Something went wrong. Please"," ",(0,s.tZ)("a",{href:"https://replit.com/support",target:"_blank",rel:"noopener noreferrer",children:"contact support"})]})}):A?(0,s.tZ)("form",{onSubmit:function(e){e.preventDefault(),L()},children:(0,s.BX)(D.G7,{css:[D.l0.colWithGap(24)],children:[(0,s.tZ)(D.h4,{level:1,variant:"headerDefault",children:"Edit Profile"}),(0,s.tZ)(Ct,{label:"First name",value:p.value,onChange:function(e){return p.setValue(e.target.value)}}),(0,s.tZ)(Ct,{label:"Last name",value:h.value,onChange:function(e){return h.setValue(e.target.value)}}),(0,s.tZ)(Ct,{label:"Bio",value:v.value,multiline:!0,onChange:function(e){return v.setValue(e.target.value)}}),(0,s.tZ)(ht.Z,{text:"Social Media Links"}),(0,s.tZ)(Ct,{label:"Twitter username",value:P.value,onChange:function(e){return P.setValue(e.target.value)}}),(0,s.tZ)(Ct,{label:"GitHub username",value:C.value,onChange:function(e){return C.setValue(e.target.value)}}),(0,s.tZ)(Ct,{label:"LinkedIn username",value:k.value,onChange:function(e){return k.setValue(e.target.value)}}),(0,s.tZ)(Ct,{label:"Discord username",value:S.value,onChange:function(e){return S.setValue(e.target.value)}}),(0,s.tZ)(Ct,{label:"YouTube channel",value:U.value,onChange:function(e){return U.setValue(e.target.value)}}),(0,s.tZ)(Ct,{label:"Website",value:I.value,onChange:function(e){return I.setValue(e.target.value)}}),O.error&&(0,s.tZ)(D.xv,{multiline:!0,css:[D.l0.color.accentNegativeStronger],children:O.error.message}),O.data&&"UserError"===O.data.setUserSocials.__typename&&(0,s.tZ)(D.xv,{multiline:!0,css:[D.l0.color.accentNegativeStronger],children:null===(i=O.data.setUserSocials)||void 0===i?void 0:i.message}),(0,s.BX)(D.G7,{css:[D.l0.justify.end,D.l0.rowWithGap(12)],children:[(0,s.tZ)(D.zx,{text:"Cancel",type:"button",disabled:O.loading,onClick:function(e){e.preventDefault(),d()}}),(0,s.tZ)(D.zx,{text:"".concat(O.loading?"Saving...":"Save"),type:"submit",disabled:O.loading,colorway:"primary",iconLeft:(0,s.tZ)(Rt.Z,{})})]})]})}):null})};!function(e){e.Following="following",e.Followers="followers"}(ut||(ut={})),function(e){e.Report="Report",e.Block="Block"}(st||(st={}));var It=function(e){var n,t,r,a,u=e.user,d=e.currentUser,f=e.onUpdate,p=(null===d||void 0===d?void 0:d.id)===u.id,h=(0,l.Z)(c.useState(!1),2),v=h[0],m=h[1],Z=(0,l.Z)(c.useState(!1),2),g=Z[0],b=Z[1],w=(0,l.Z)(c.useState(!1),2),x=w[0],y=w[1],P=(0,ct.H)()("reportingReason"),k=(0,l.Z)(c.useState(""),2),C=k[0],U=k[1],S=(0,l.Z)(c.useState(ut.Followers),2),E=S[0],B=S[1],_=(n={display:"grid",rowGap:8,columnGap:12,gridTemplateColumns:"min-content 1fr",gridTemplateAreas:'"photo buttons" "name name"'},(0,i.Z)(n,(0,G.wS)("tabletMin","tabletMax"),{gridTemplateColumns:"min-content 1fr min-content",gridTemplateAreas:'"photo name buttons"'}),(0,i.Z)(n,(0,G.et)("tabletMax"),{gridTemplateColumns:"1fr",gridTemplateAreas:'"photo" "name" "buttons"',rowGap:16}),n),M={border:"none",fontWeight:I.TV.fontWeightMedium,padding:0,height:"auto",":not([disabled]):hover":{backgroundColor:"transparent"}," span":{lineHeight:I.TV.lineHeightDefault}},T=(0,l.Z)(c.useState("Copy profile link"),2),X=T[0],O=T[1],W=(0,l.Z)(c.useState(u.isBlockedByCurrentUser),2),L=W[0],A=W[1],N={label:st.Report,icon:(0,s.tZ)(Pn.Z,{}),isDestructive:!0},j={label:st.Block,icon:(0,s.tZ)(Rn.Z,{}),isDestructive:!0},z=L?[N]:[N,j],V=(0,K.Z)(),F=V.showError,$=V.showConfirm,H=(0,l.Z)(function(e){var n=(0,o.Z)({},bn,e);return R.useMutation(xn,n)}({onCompleted:function(e){var n,t;"NotFoundError"!==(null===(n=e.setBlocking)||void 0===n?void 0:n.__typename)&&"UnauthorizedError"!==(null===(t=e.setBlocking)||void 0===t?void 0:t.__typename)||F(e.setBlocking.message)},onError:function(e){F(e.message)}}),1),Y=H[0],q=(0,l.Z)(function(e){var n=(0,o.Z)({},bn,e);return R.useMutation(wn,n)}({onCompleted:function(e){var n;(null===(n=e.createBoardReport.reportedUser)||void 0===n?void 0:n.id)===u.id&&$("User reported")},onError:function(e){F(e.message)}}),1),Q=q[0];return(0,s.BX)(D.G7,{css:[I.l0.colWithGap(8),{userSelect:"none"},(0,i.Z)({},(0,G.et)("tabletMax"),[I.l0.colWithGap(16),{width:328}])],children:[p&&!u.hasPrivacyRole&&(0,s.tZ)(D.u_,{isOpen:v,onRequestClose:function(){return m(!1)},children:(0,s.tZ)(St,{onUpdate:f,onRequestClose:function(){return m(!1)}})}),(0,s.BX)("div",{css:_,children:[(0,s.tZ)(D.G7,{css:(0,i.Z)({gridArea:"photo",width:80},(0,G.et)("tabletMax"),{width:160}),children:p?(0,s.tZ)(kt,{image:u.image,hasPrivacyRole:u.hasPrivacyRole}):(0,s.tZ)(vn.Z,{size:"inherit",url:u.image})}),(0,s.BX)(D.G7,{css:[I.l0.pt(0),(0,i.Z)({gridArea:"name"},(0,G.wS)("tabletMin","tabletMax"),[I.l0.pt(24)])],children:[(0,s.BX)(D.G7,{css:[I.l0.flex.row,I.l0.flex.wrap,I.l0.align.start,I.l0.pb(4),(0,i.Z)({},(0,G.et)("tabletMax"),[I.l0.pb(8)])],children:[(0,s.tZ)(D.h4,{level:1,css:[I.l0.mr(8),I.l0.mt(4),(0,i.Z)({fontSize:I.TV.fontSizeSubheadBig,fontWeight:I.TV.fontWeightMedium,lineHeight:I.TV.lineHeightSubheadBig,userSelect:"text",width:"100%",maxWidth:"max-content"},(0,G.et)("tabletMax"),{maxWidth:"min(max-content, 328px)",marginTop:0,fontSize:I.TV.fontSizeHeaderBig,fontWeight:I.TV.fontWeightMedium,lineHeight:I.TV.lineHeightHeaderBig})],children:u.fullName||u.username}),(0,s.BX)(D.G7,{css:[I.l0.rowWithGap(8),I.l0.pt(8)],children:[u.isHacker&&(0,s.tZ)(mn.ZP,{name:"hacker",userRole:"hacker"}),u.roles.map((function(e){return(0,s.tZ)(mn.ZP,{userRole:e.key,name:e.name,tagline:e.tagline||void 0},e.id)}))]})]}),(0,s.BX)(D.G7,{css:[I.l0.rowWithGap(4),I.l0.align.center],children:[(0,s.BX)(D.xv,{color:"dimmer",css:{userSelect:"text"},children:["@",u.username]}),!p&&!L&&!u.isBlockingCurrentUser&&u.isFollowingCurrentUser&&(0,s.tZ)(D.DR,{css:[I.l0.minWidth("fit-content")],text:"Follows you"})]})]}),(0,s.BX)(D.G7,{css:[I.l0.align.start,I.l0.pt(32),I.l0.flex.rowReverse,{gridArea:"buttons",gap:8},(0,i.Z)({},(0,G.et)("tabletMax"),[I.l0.pt(0),I.l0.flex.row])],children:[u.isLoggedIn&&!u.hasPrivacyRole&&(0,s.tZ)(D.zx,{iconLeft:(0,s.tZ)(de.Z,{}),text:"Edit",onClick:function(){return m(!0)}}),!p&&!L&&!u.isBlockingCurrentUser&&(0,s.tZ)(Un.Z,{user:u}),!p&&L&&(0,s.tZ)(D.ZE,{label:"Blocked","aria-label":"Update blocked status",cssProps:[I.l0.backgroundColor.accentNegativeDimmer,I.l0.color.accentNegativeStrongest,I.l0.transition.snappy,{":not([disabled]):hover":{border:I.TV.accentNegativeStronger+" 1px solid"}}],icon:(0,s.tZ)(Rn.Z,{}),onAction:function(){Y({variables:{input:{targetUserId:u.id,shouldBlock:!1}}}),A(!1)},children:(0,s.tZ)(D.ck,{children:(0,s.BX)(D.G7,{css:I.l0.rowWithGap(8),children:[(0,s.tZ)(kn.Z,{}),(0,s.tZ)(D.xv,{children:"Unblock"})]})},"option")}),!u.isBlockingCurrentUser&&(0,s.tZ)(D.zx,{iconLeft:(0,s.tZ)(Cn.Z,{}),text:X,onClick:function(){(0,ge.Z)(window.location.href),O("Copied!"),setTimeout((function(){O("Copy profile link")}),1e3)},css:[I.l0.display.none,{"@media screen and (min-width: 420px)":[I.l0.display.flex]}]}),!p&&z.length>0&&(0,s.tZ)(yn.Z,{label:"Profile Actions",orientation:"horizontal",items:z,onItemClick:function(e){e.label===st.Block&&(Y({variables:{input:{targetUserId:u.id,shouldBlock:!0}}}),A(!0)),e.label===st.Report&&y(!0)}})]})]}),!u.isBlockingCurrentUser&&(0,s.BX)(D.G7,{css:I.l0.rowWithGap(12),children:[(0,s.tZ)(D.zx,{outlined:!0,css:M,onClick:function(){B(ut.Followers),b(!0)},text:(t=u.followerCount,r="follower",a="followers",1===t?"".concat(t," ").concat(r):"".concat(t," ").concat(a))}),(0,s.tZ)(D.zx,{outlined:!0,css:M,onClick:function(){B(ut.Following),b(!0)},text:"".concat(u.followCount," following")})]}),u.bio&&(0,s.tZ)(D.G7,{css:{userSelect:"text"},children:(0,s.tZ)(D.xv,{multiline:!0,children:(0,s.tZ)(hn.ZP,{properties:{rel:"nofollow"},children:u.bio})})}),(0,s.tZ)(D.u_,{isOpen:g,onRequestClose:function(){return b(!1)},maxWidth:872,children:u.username&&(0,s.tZ)(qn,{initialTab:E,username:u.username})}),(0,s.tZ)(D.u_,{isOpen:x,onRequestClose:function(){return y(!1)},children:(0,s.BX)(D.G7,{css:[I.l0.colWithGap(24)],children:[(0,s.tZ)(D.h4,{level:1,variant:"headerDefault",children:"Report user"}),(0,s.tZ)(D.B,{id:P,onChange:function(e){U(e.currentTarget.value)},placeholder:"Why do you want to report ".concat(u.username,"?"),css:[I.l0.minHeight(64),I.l0.maxHeight(128),{resize:"vertical"}]}),(0,s.BX)(D.G7,{css:[I.l0.rowWithGap(12),I.l0.justify.end],children:[(0,s.tZ)(D.zx,{onClick:function(){return y(!1)},text:"Cancel"}),(0,s.tZ)(D.zx,{text:"Report user",colorway:"negative",iconLeft:(0,s.tZ)(Pn.Z,{}),onClick:function(){Q({variables:{reportedUserId:u.id,reason:C}}),y(!1)}})]})]})})]})},Et=t(17673);function Bt(e){return Object.keys(e).filter((function(n){return null!=e[n]})).reduce((function(n,t){return n[t]=e[t],n}),{})}function _t(e,n){var t=(0,l.Z)(function(e,n){var t=e.indexOf("?");return t<0?[e,Bt(n)]:[e.slice(0,t),Bt((0,o.Z)({},(0,Et.decode)(e.slice(t+1)),n))]}(e.asPath,n),2),r=t[0],i=t[1];return{href:{pathname:e.pathname,query:Bt((0,o.Z)({},e.query,n))},as:{pathname:r,query:i}}}var Mt=t(43484),Dt=["repls","community","warnings"],Tt=function(e,n){return _t(e,{tab:n})},Xt=function(e){var n=e.currentTab,t=e.currentUser,r=(0,f.useRouter)();return(0,s.BX)(S.ZP,{css:[I.l0.rowWithGap(24),I.l0.pl(16)],children:[(0,s.tZ)(Nn,(0,Z.Z)((0,o.Z)({active:"repls"===n},Tt(r,"repls")),{children:"Repls"})),(0,Mt.Z)()||(null===t||void 0===t?void 0:t.isPrivacyAccount)?null:(0,s.tZ)(Nn,(0,Z.Z)((0,o.Z)({active:"community"===n},Tt(r,"community")),{children:"Community"})),(null===t||void 0===t?void 0:t.isModerator)||(null===t||void 0===t?void 0:t.isAdmin)?(0,s.tZ)(Nn,(0,Z.Z)((0,o.Z)({active:"warnings"===n},Tt(r,"warnings")),{children:"Warnings (mod)"})):null]})},Gt=t(41433),Ot=t(71306),Wt=t(5748);function Lt(){var e=(0,b.Z)(["\n  fragment ProfileWarning on Warning {\n    id\n    reason\n    timeCreated\n    moderator {\n      id\n      username\n    }\n  }\n"]);return Lt=function(){return e},e}function At(){var e=(0,b.Z)(["\n  query ProfileWarnings($username: String!) {\n    user: userByUsername(username: $username) {\n      id\n      displayName\n      warnings {\n        id\n        ...ProfileWarning\n      }\n    }\n  }\n  ","\n"]);return At=function(){return e},e}var Nt={},jt=(0,w.ZP)(Lt()),zt=(0,w.ZP)(At(),jt);function Vt(){var e=(0,b.Z)(["\n  mutation removeUserWarning($username: String!, $warnId: Int!) {\n    removeWarn(username: $username, warnId: $warnId) {\n      ... on Warning {\n        id\n      }\n      ... on UserError {\n        message\n      }\n    }\n  }\n"]);return Vt=function(){return e},e}var Ft={},$t=(0,w.ZP)(Vt());var Ht=t(60536),Yt=t.n(Ht),qt={styles:(0,s.tZ)(Yt(),{id:"7b374cb2f56b87b1",children:".card.jsx-7b374cb2f56b87b1{position:relative;border:1px solid var(--outline-dimmest);-webkit-border-radius:var(--border-radius-8);-moz-border-radius:var(--border-radius-8);border-radius:var(--border-radius-8);background:var(--background-default)}"}),className:"jsx-7b374cb2f56b87b1"},Qt=qt.className,Kt=qt.styles,Jt=t(80380),er=(0,Ve.iv)([I.l0.py(16),I.l0.px(24)]),nr=(0,Ve.iv)([I.l0.my(8),{display:"block"}]),tr=function(e){var n,t,r=e.warning,i=e.username,a=e.onDelete,u=(0,K.Z)(),c=u.showError,d=u.showConfirm,f=(0,l.Z)(function(e){var n=(0,o.Z)({},Ft,e);return R.useMutation($t,n)}({variables:{username:i,warnId:r.id},onCompleted:function(e){var n=e.removeWarn;"UserError"===n.__typename?c(n.message):"Warning"===n.__typename&&(d("Warning with ID ".concat(n.id," has been deleted.")),a())}}),2),p=f[0],h=f[1].loading;return(0,s.tZ)("div",{css:[I.l0.py(16)],children:(0,s.BX)("div",{className:on()(Qt,"card"),css:er,children:[(0,s.BX)("div",{css:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[(0,s.BX)(Y.x,{variant:"headerDefault",children:["Warning #",r.id]}),(0,s.tZ)(D.zx,{iconLeft:(0,s.tZ)(le.Z,{}),css:[I.l0.ml(16)],colorway:"negative",text:"Delete",disabled:h,onClick:function(){return p()},outlined:!0,big:!0})]}),(0,s.BX)(Y.x,{variant:"subheadDefault",css:nr,children:["REASON:"," ",(0,s.tZ)("span",{css:[{fontWeight:"normal"},I.l0.ml(8)],children:r.reason})]}),(0,s.BX)("div",{children:["Warned by"," ",r.moderator?(0,s.BX)("a",{target:"_blank",href:"/@"+(null===(n=r.moderator)||void 0===n?void 0:n.username),children:["@",null===(t=r.moderator)||void 0===t?void 0:t.username]}):"(deleted user)"]}),(0,s.tZ)(Jt.Z,{css:[I.l0.ml(8)],date:r.timeCreated}),Kt]})})},rr=function(e){var n=function(e){var n=(0,o.Z)({},Nt,e);return R.useQuery(zt,n)}({variables:e}),t=n.data,r=n.loading,i=n.error,l=n.refetch;if(r)return(0,s.tZ)(Wt.Z,{});if(i)return(0,s.tZ)(D.xv,{children:"error.message"});if(!t||!t.user)return(0,s.tZ)(D.xv,{multiline:!0,children:"There seems to be some trouble finding this user\u2019s warnings."});var a=t.user.warnings||[];return a.length?(0,s.tZ)("div",{children:a.map((function(n){return n&&(0,s.tZ)(tr,{warning:n,username:e.username,css:D.l0.mt(16),onDelete:l})}))}):(0,s.tZ)(D.G7,{css:[D.l0.p(16)],children:(0,s.BX)(D.xv,{multiline:!0,variant:"subheadDefault",css:[D.l0.textAlign.center],children:[t.user.displayName," has never been warned yet."]})})},ir=t(30303),or=t(74926),lr=(t(19409),t(31826)),ar=t(57263);function ur(){var e=(0,b.Z)(["\n                      &:hover {\n                        box-shadow: inset 0 0 0 2px black;\n                        cursor: pointer;\n                      }\n                    "]);return ur=function(){return e},e}var sr={mobileMax:"@media (min-width: ".concat(ar.j.mobileMax,"px)")},cr=(0,S.KD)("time"),dr=(0,S.KD)("a"),fr=(0,Ve.iv)([I.l0.color.foregroundDefault,I.l0.flex.growAndShrink(1),{fontSize:I.TV.fontSizeHeaderDefault,fontWeight:I.TV.fontWeightMedium,textDecoration:"none","::after":{content:'""',position:"absolute",top:0,right:0,bottom:0,left:0,display:"block",zIndex:1},":focus":{"::after":{outline:"2px solid",outlineColor:I.TV.accentPrimaryDefault}}},I.l0.focusRing]),pr=function(e){var n=e.repl,t=(0,f.useRouter)(),r=(0,Ne.F)(n.timeCreated);return(0,s.BX)(S.ZP,{css:[I.l0.py(16),I.l0.px(24),I.l0.minHeight(96),I.l0.rowWithGap(8),I.l0.align.center,I.l0.justify.spaceBetween,I.l0.position.relative,{":hover":{backgroundColor:I.TV.backgroundHigher}}],children:[(0,s.BX)(S.ZP,{css:[I.l0.colWithGap(4),I.l0.flex.shrink(1),(0,i.Z)({},sr.mobileMax,I.l0.width("60%"))],children:[(0,s.BX)(S.ZP,{css:[I.l0.rowWithGap(8),I.l0.flex.growAndShrink(1)],children:[(0,s.tZ)(nn.Z,{alt:n.templateInfo.label,iconUrl:n.templateInfo.iconUrl}),(0,s.tZ)(Pe(),(0,Z.Z)((0,o.Z)({},(0,ne.j3)(n)),{passHref:!0,children:(0,s.tZ)(dr,{css:fr,onClick:function(e){!n.isOwner&&n.pinnedToProfile&&(0,M.j)(M.U3.PINNED_REPL_VISITED,{replId:n.id}),(0,M.j)(M.U3.PROFILE_REPL_CLICKED,{replId:n.id,isOwner:n.isOwner}),window.innerWidth<1080||function(e){var n=e.currentTarget.target;return n&&"_self"!==n||e.metaKey||e.ctrlKey||e.shiftKey||e.altKey||e.nativeEvent&&2===e.nativeEvent.which}(e)||(e.preventDefault(),t.push({pathname:t.pathname,query:(0,Z.Z)((0,o.Z)({},t.query),{dialogReplId:n.id})},n.url+"?v=1",{shallow:!0}))},children:(0,s.tZ)(Y.x,{variant:"headerDefault",children:n.title})})}))]}),n.description?(0,s.tZ)(Y.x,{multiline:!0,color:"dimmer",css:(0,Ve.iv)({fontWeight:I.TV.fontWeightMedium}),children:n.description}):null]}),(0,s.BX)(S.ZP,{css:[I.l0.rowWithGap(8),I.l0.align.center,(0,i.Z)({display:"none"},sr.mobileMax,[I.l0.rowWithGap(8),I.l0.flex.row,I.l0.flex.wrap])],children:[(0,s.tZ)(cr,{css:(0,Ve.iv)({color:I.TV.foregroundDimmest,fontWeight:I.TV.fontWeightMedium}),dateTime:n.timeCreated,children:r}),(0,s.tZ)(S.ZP,{tag:"ul",css:[I.l0.flex.row,I.l0.flex.rowReverse,I.l0.width(112),{listStyleType:"none"}],children:n.multiplayers.slice(0,5).map((function(e,n){return(0,s.tZ)(S.ZP,{tag:"li",css:n>0&&{marginRight:-12,zIndex:n},children:(0,s.tZ)(Pe(),{href:"/@".concat(e.username),passHref:!0,children:(0,s.tZ)("a",{children:(0,s.tZ)(In.Z,{size:32,username:e.username,src:e.image,css:(0,Ve.iv)(ur())})})})},e.username)}))})]})]})},hr=t(27206),vr=t(21131),mr=(0,c.forwardRef)((function(e,n){var t=e.onChange,r=(0,Ln.Z)(e,["onChange"]),i=(0,je.Z)(t),l=(0,vr.Z)((function(){return(0,lr.Z)((function(e){var n;return null===(n=i.current)||void 0===n?void 0:n.call(i,e)}),500,{leading:!1,trailing:!0})}),[i]);return(0,s.tZ)(hr.ZP,(0,o.Z)({ref:n,onChange:l},r))})),Zr=function(e){var n,t,r,i=e.user,l=(0,c.useState)(""),a=l[0],u=l[1],d=function(e){var n=(0,o.Z)({},z,e);return R.useQuery(V,n)}({ssr:!1,variables:{username:i.username,search:a}}),f=d.data,p=d.loading,h=d.error,m=d.fetchMore;if(h)return(0,s.tZ)(S.ZP,{css:[I.l0.center,I.l0.p(32)],children:(0,s.tZ)(Y.x,{children:"Error loading Repls"})});var Z=null===f||void 0===f||null===(n=f.user)||void 0===n?void 0:n.profileRepls.items,g=null===f||void 0===f||null===(t=f.user)||void 0===t||null===(r=t.profileRepls)||void 0===r?void 0:r.pageInfo;return""===a&&0===(null===Z||void 0===Z?void 0:Z.length)?(0,s.tZ)(S.ZP,{css:[I.l0.center,I.l0.p(32)],children:(0,s.BX)(Y.x,{variant:"subheadBig",children:[i.fullName||i.username," has no Repls yet \ud83d\ude1e"]})}):(0,s.BX)(S.ZP,{css:[I.l0.colWithGap(16)],children:[(0,s.BX)(S.ZP,{css:[I.l0.rowWithGap(8),I.l0.justify.spaceBetween],children:[(0,s.tZ)(Y.x,{variant:"headerBig",children:"All Repls"}),(0,s.tZ)("form",{onSubmit:function(e){e.preventDefault()},children:(0,s.tZ)(mr,{placeholder:"search in repls...",defaultValue:"",onChange:function(e){return u(e.target.value)}})})]}),(0,s.tZ)(O.Z,{elevated:!0,css:[I.l0.borderRadius(8),{border:"1px solid "+I.TV.outlineDimmest}],children:null==Z||null==g?(0,s.tZ)(v.Z,{style:{margin:"40px auto"}}):0===Z.length?(0,s.tZ)(S.ZP,{css:[I.l0.center,I.l0.p(32)],children:(0,s.BX)(Y.x,{variant:"subheadDefault",children:['No Repls found for "',a,'"']})}):(0,s.BX)(s.HY,{children:[(0,s.tZ)(S.ZP,{tag:"ul",css:{listStyle:"none"},children:Z.map((function(e){return(0,s.tZ)(S.ZP,{tag:"li",children:(0,s.tZ)(pr,{repl:e})},e.id)}))}),g.hasNextPage&&(0,s.tZ)(S.ZP,{css:[I.l0.center,I.l0.p(32)],children:(0,s.tZ)(D.zx,{onClick:function(e){e.preventDefault(),p||m({variables:{username:i.username,after:g.nextCursor,search:a}})},text:"View more"})})]})})]})},gr=t(88652),br=t(47634),wr=t(26473),xr=(0,Ve.F4)("\n  from {transform: rotate(0deg);}\n  to {transform: rotate(5deg);}\n"),yr=(0,Ve.F4)("\n  0% {transform: rotate(0deg) translateX(clamp(45px, 10vw, 70px)) rotate(0deg) rotate(20deg);}\n  25% {transform: rotate(90deg) translateX(clamp(45px, 10vw, 70px)) rotate(-90deg) rotate(-20deg); }\n  50% {transform: rotate(180deg) translateX(clamp(45px, 10vw, 70px)) rotate(-180deg) rotate(20deg); }\n  75% {transform: rotate(270deg) translateX(clamp(45px, 10vw, 70px)) rotate(-270deg) rotate(-20deg); }\n  100% {transform: rotate(360deg) translateX(clamp(45px, 10vw, 70px)) rotate(-360deg) rotate(20deg); }\n"),Pr=" 7s linear infinite",Rr=function(e){var n=e.isOwnProfile;return(0,s.BX)(S.ZP,{css:[I.l0.align.center,I.l0.colWithGap(64),I.l0.p(4),I.l0.py(32),I.l0.zIndex(2),(0,i.Z)({},(0,G.EM)("tabletMin"),[I.l0.colWithGap(32)])],children:[(0,s.BX)("div",{css:[I.l0.width("100%"),I.l0.maxWidth(436),I.l0.position.relative,{aspectRatio:"2.18 / 1"}],children:[(0,s.tZ)("img",{src:"/public/images/profile/wizard-cat.svg",alt:"a drawing of a cat wearing a lab coat and holding a wizard\u2019s wand",css:{position:"absolute",width:"46%",bottom:0,left:0,transformOrigin:"25% 100%",animation:xr+" "+7/6+"s alternate infinite ease-out"}}),(0,s.tZ)("img",{src:"/public/images/profile/monitor.svg",alt:"a drawing of a monitor",css:{position:"absolute",width:"19%",top:44,right:56,animation:yr+Pr}}),(0,s.tZ)("img",{src:"/public/images/profile/phone.svg",alt:"a drawing of a phone",css:{position:"absolute",width:"11%",top:51,right:68,animation:yr+Pr,animationDelay:-7/3+"s"}}),(0,s.tZ)("img",{src:"/public/images/profile/coffee.svg",alt:"a drawing of a cup of coffee",css:{position:"absolute",width:"16%",top:56,right:64,animation:yr+Pr,animationDelay:-14/3+"s"}})]}),(0,s.BX)(S.ZP,{css:[I.l0.colWithGap(24),I.l0.align.center,I.l0.textAlign.center],children:[(0,s.tZ)(Y.x,{variant:"subheadBig",multiline:!0,children:n?"This is where your Repls would go... if you had any!":"This person doesn't have any Repls yet!"}),n?(0,s.tZ)(S.ZP,{css:{boxShadow:"0 0 16px rgba(87, 171, 255, 0.5)",borderRadius:8},children:(0,s.tZ)(br.Z,{trackingContext:"profile",children:(0,s.tZ)(ie.ZP,{text:"Create your first Repl",colorway:"primary",iconLeft:(0,s.tZ)(q.Z,{})})})}):(0,s.tZ)(s.HY,{children:(0,s.tZ)(we.Z,{iconLeft:(0,s.tZ)(wr.Z,{}),colorway:"primary",text:"Invite them to a Repl",href:"/~"})})]})]})},kr=t(19255),Cr=t(93373),Ur=t(57981),Sr=t(85565),Ir=t(53924),Er=function(e){switch(e){case W.bk.Twitter:return(0,s.tZ)(Sr.Z,{});case W.bk.Discord:return(0,s.tZ)(kr.Z,{});case W.bk.Github:return(0,s.tZ)(Cr.Z,{});case W.bk.Linkedin:return(0,s.tZ)(Ur.Z,{});case W.bk.Youtube:return(0,s.tZ)(Ir.Z,{});case W.bk.Website:return(0,s.tZ)(jn.Z,{})}},Br=[I.l0.mb(8),I.l0.p(4),I.l0.height("inherit"),I.l0.borderRadius(4),I.l0.backgroundColor.backgroundRoot,I.l0.color.foregroundDimmer,{border:"none","&:hover":{color:I.TV.foregroundDefault}}],_r=function(e){var n=e.user,t=(0,l.Z)(c.useState(!1),2),r=t[0],o=t[1];return n&&n.socials.length?(0,s.tZ)(S.ZP,{css:[I.l0.rowWithGap(16),I.l0.flex.wrap,I.l0.justify.start,I.l0.align.start,(0,i.Z)({userSelect:"none"},(0,G.et)("tabletMax"),{maxWidth:328})],children:n.socials.map((function(e){if("discord"===e.type)return(0,s.tZ)(Ze.ZP,{isOpen:r,tooltip:"".concat(e.url," copied to clipboard"),placement:"bottom-end",children:(0,s.tZ)(ie.ZP,{iconLeft:Er(e.type),text:e.url,css:Br,onClick:function(){(0,ge.Z)(e.url),o(!0),setTimeout((function(){return o(!1)}),4e3)}},e.type)});var n=e.type;switch(n){case"github":n="GitHub";break;case"linkedin":n="LinkedIn";break;case"youtube":n="YouTube"}return(0,s.tZ)(we.Z,{iconLeft:Er(e.type),href:e.url,target:"_blank",text:n,css:(0,g.Z)(Br).concat([{textTransform:"capitalize"}])},e.type)}))}):null},Mr=t(49619);function Dr(){var e=(0,b.Z)(["\n  fragment CoverImageUser on User {\n    id\n    coverImage {\n      url\n      offsetY\n    }\n    hasPrivacyRole\n  }\n"]);return Dr=function(){return e},e}function Tr(){var e=(0,b.Z)(["\n  fragment CoverImageCurrentUser on CurrentUser {\n    id\n    coverImage {\n      url\n      offsetY\n    }\n  }\n"]);return Tr=function(){return e},e}function Xr(){var e=(0,b.Z)(["\n  query CoverImage($username: String!) {\n    user: userByUsername(username: $username) {\n      id\n      ...CoverImageUser\n    }\n  }\n  ","\n"]);return Xr=function(){return e},e}function Gr(){var e=(0,b.Z)(["\n  mutation CoverImageUpdate($input: SetUserCoverImageInput!) {\n    setUserCoverImage(input: $input) {\n      ... on CurrentUser {\n        id\n        ...CoverImageCurrentUser\n      }\n    }\n  }\n  ","\n"]);return Gr=function(){return e},e}var Or={},Wr=(0,w.ZP)(Dr()),Lr=(0,w.ZP)(Tr()),Ar=(0,w.ZP)(Xr(),Wr);var Nr=(0,w.ZP)(Gr(),Lr);var jr=t(62913),zr=t(8408),Vr=t(76945),Fr=t(60459),$r=t(62722),Hr=t(7657),Yr=[["#C83625","#D7B02D"],["#00C9FF","#92FE9D"],["#0E55E0","#C36CEC"],["#CC4194","#EF967A"]],qr=function(){var e=Math.floor(Math.random()*Yr.length);return"linear-gradient(to right, ".concat(Yr[e][0],", ").concat(Yr[e][1],")")}(),Qr=function(e){return"touches"in e},Kr=function(e){var n=e.hasImage,t=e.onClick,r=[(0,s.tZ)(ue.ck,{children:(0,s.BX)(S.ZP,{css:[I.l0.flex.row,I.l0.rowWithGap(8),{width:200}],children:[(0,s.tZ)(Mr.Z,{}),(0,s.tZ)(Y.x,{children:"Upload banner image"})]})},"upload")];return n&&r.push((0,s.tZ)(ue.ck,{children:(0,s.BX)(S.ZP,{css:[I.l0.flex.row,I.l0.rowWithGap(8),{width:200}],children:[(0,s.tZ)(zr.Z,{}),(0,s.tZ)(Y.x,{children:"Position banner image"})]})},"position"),(0,s.tZ)(ue.ck,{children:(0,s.BX)(S.ZP,{css:[I.l0.flex.row,I.l0.rowWithGap(8),{width:200}],children:[(0,s.tZ)(le.Z,{}),(0,s.tZ)(Y.x,{children:"Remove banner image"})]})},"remove")),(0,s.tZ)(ue.ZE,{"aria-label":"update banner image",icon:(0,s.tZ)(Vr.Z,{}),onAction:function(e){return t(e)},children:r})},Jr=function(e){var n,t,a=e.username,d=e.isOwnProfile,f=(0,K.Z)(),p=f.showError,h=f.showConfirm,m=function(e){var n=(0,o.Z)({},Or,e);return R.useQuery(Ar,n)}({variables:{username:a},onCompleted:function(e){var n=e.user;(null===n||void 0===n?void 0:n.coverImage)?(U(n.coverImage.url),X(n.coverImage.offsetY)):(U(void 0),X(0))}}),Z=m.data,g=m.loading,b=(0,l.Z)(function(e){var n=(0,o.Z)({},Or,e);return R.useMutation(Nr,n)}({onCompleted:function(e){var n=e.setUserCoverImage;"CurrentUser"===n.__typename&&(n.coverImage?(U(n.coverImage.url),X(n.coverImage.offsetY)):(U(void 0),X(0))),h("Updated cover image")},onError:function(e){return p(e.message)},update:function(e,n){(null===Z||void 0===Z?void 0:Z.user)&&e.modify({id:e.identify(Z.user),fields:{coverImage:function(){var e,t;if("CurrentUser"===(null===(e=n.data)||void 0===e||null===(t=e.setUserCoverImage)||void 0===t?void 0:t.__typename))return n.data.setUserCoverImage.coverImage}}})}}),1),w=b[0],x="User"===(null===Z||void 0===Z||null===(n=Z.user)||void 0===n?void 0:n.__typename)&&Z.user,y="User"===(null===Z||void 0===Z||null===(t=Z.user)||void 0===t?void 0:t.__typename)&&Z.user.coverImage,P=(0,Fr.Z)({onUpload:function(e){var n=e.id,t=e.url;x&&w({variables:{input:{imageId:n,offsetY:0}},optimisticResponse:{setUserCoverImage:{__typename:"CurrentUser",id:x.id,coverImage:{url:t,offsetY:0}}}})},onUploadPreview:function(e){var n=e.dataUrl;return U(n)},onError:function(e){return p(e.message)}}),k=(0,l.Z)(c.useState(),2),C=k[0],U=k[1],E=(0,l.Z)(c.useState(0),2),B=E[0],_=E[1],D=(0,l.Z)(c.useState(0),2),T=D[0],X=D[1],G=(0,l.Z)(c.useState(0),2),O=G[0],W=G[1],L=(0,l.Z)(c.useState(0),2),A=L[0],N=L[1],j=(0,l.Z)(c.useState(!1),2),z=j[0],V=j[1],F=c.useRef(null),$=c.useRef(null),H=c.useRef(null),Y=c.useRef(),q=c.useRef(null),Q=(0,ln.Z)((function(){Y.current&&_(Y.current.naturalHeight)})),J=c.useCallback(function(){var e=(0,r.Z)(u().mark((function e(n){var t;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==n&&0!==n.length){e.next=2;break}return e.abrupt("return");case 2:if(t=n.find((function(e){return e.type.startsWith("image/")}))){e.next=6;break}return p("Please select an image file"),e.abrupt("return");case 6:return e.next=8,P.uploadImage(t,Hr.N.ProfileCoverImage);case 8:e.sent&&(0,M.j)(M.U3.PROFILE_EDITED,{surface:"banner"});case 10:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),[P,p]),ee=c.useCallback((function(e){if(e.target===$.current&&null===q.current){e.preventDefault();var n=Qr(e)?e.touches[0].clientY:e.clientY;q.current=n}}),[]),ne=c.useCallback((function(e){if(null!==q.current&&null!==F.current){e.preventDefault();var n=(Qr(e)?e.touches[0].clientY:e.clientY)-q.current,t=O+n;if(t<=0){if(B&&Math.abs(t)+F.current.clientHeight>B)return;N(n)}}}),[O,B]),te=c.useCallback((function(e){null!==q.current&&(e.preventDefault(),W(O+A),N(0),q.current=null)}),[O,A]);return c.useEffect((function(){if($.current&&z){var e=$.current;return e.addEventListener("mousedown",ee),e.addEventListener("touchstart",ee),window.addEventListener("mousemove",ne),window.addEventListener("mouseup",te),e.addEventListener("touchmove",ne),e.addEventListener("touchend",te),e.addEventListener("touchcancel",te),function(){e&&(e.removeEventListener("mousedown",ee),window.removeEventListener("mousemove",ne),window.removeEventListener("mouseup",te),e.removeEventListener("touchstart",ee),e.removeEventListener("touchmove",ne),e.removeEventListener("touchend",te),e.removeEventListener("touchcancel",te))}}}),[$,z,ee,ne,te]),x?(0,s.BX)(S.ZP,{innerRef:F,css:[(0,i.Z)({position:"absolute",height:120,width:"100%",userSelect:"none",background:"linear-gradient(rgba(0, 0, 0, 0.1), rgba(0, 0, 0, 0.4))",backgroundRepeat:"no-repeat"},"@media (min-width: ".concat(ar.j.tabletMax,"px)"),{height:200}),Z&&!g&&!y&&{backgroundImage:qr}],children:[d&&!x.hasPrivacyRole&&(0,s.BX)(S.ZP,{innerRef:$,css:[{position:"absolute",top:0,left:0,width:"100%",height:z?"100%":"auto",cursor:z?"move":"auto",zIndex:10}],children:[(0,s.tZ)("input",{css:{width:.1,height:.1,opacity:0,overflow:"hidden",position:"absolute",zIndex:-1},ref:H,accept:$r.W9.join(","),type:"file",onChange:function(e){var n=e.target,t=n.validity,r=n.files;t.valid&&J(r?Array.from(r):null)}}),(0,s.tZ)(S.ZP,{css:[{position:"absolute",top:10,right:10,zIndex:99}],children:P.isLoading?(0,s.tZ)(S.ZP,{css:[{margin:10,width:24,height:24}],children:(0,s.tZ)(v.Z,{size:24})}):z?(0,s.BX)(S.ZP,{css:[I.l0.rowWithGap(8)],children:[(0,s.tZ)(ie.ZP,{text:"Cancel",onClick:function(e){e.stopPropagation(),W(0),N(0),V(!1)}}),(0,s.tZ)(ie.ZP,{text:"Done",onClick:function(e){e.stopPropagation();var n=Math.floor(100*Math.abs(O/B));X(n),V(!1),x&&y&&w({variables:{input:{offsetY:n}},optimisticResponse:{setUserCoverImage:{__typename:"CurrentUser",id:x.id,coverImage:{url:y.url,offsetY:n}}}})}})]}):(0,s.tZ)(Kr,{hasImage:!!C,onClick:function(e){var n;("remove"===e&&x&&(W(0),N(0),_(0),w({variables:{input:{remove:!0}},optimisticResponse:{setUserCoverImage:{__typename:"CurrentUser",id:x.id,coverImage:null}}})),"position"===e&&(V(!0),W(-Math.floor(B*(T/100))),N(0)),"upload"===e)&&(null===(n=H.current)||void 0===n||n.click())}})})]}),(0,s.tZ)(S.ZP,{tag:"div",innerRef:Q,css:[{position:"absolute",top:0,left:0,width:"100%",height:"100%",overflow:"hidden"}],children:C&&(0,s.BX)(s.HY,{children:[(0,s.tZ)(jr.Z,{onLoad:function(e){Y.current=e.target},onLoadingComplete:function(e){_(e.naturalHeight)},objectFit:"cover",objectPosition:"0 ".concat(z?O+A:B-T/100*B<200?0:-T/100*B,"px"),layout:"fill",src:C,priority:!0,alt:""}),(0,s.tZ)(S.ZP,{css:[{position:"absolute",top:0,left:0,width:"100%",height:"100%",background:"linear-gradient(rgba(0, 0, 0, 0.1), rgba(0, 0, 0, 0.4))",backgroundRepeat:"no-repeat"}]})]})})]}):null};function ei(){var e=(0,b.Z)(["\n  query PresenceBadge($username: String!) {\n    currentUser {\n      id\n      showPresence\n    }\n    user: userByUsername(username: $username) {\n      id\n      presenceStatus {\n        lastSeen\n        isOnline\n      }\n      hasPrivacyRole\n    }\n  }\n"]);return ei=function(){return e},e}function ni(){var e=(0,b.Z)(["\n  mutation UpdateUserPrivacyPreferences(\n    $input: UpdateUserPrivacyPreferencesInput!\n  ) {\n    updateUserPrivacyPreferences(input: $input) {\n      __typename\n      ... on CurrentUser {\n        id\n        showPresence\n      }\n      ... on UserError {\n        message\n      }\n      ... on UnauthorizedError {\n        message\n      }\n    }\n  }\n"]);return ni=function(){return e},e}var ti={},ri=(0,w.ZP)(ei());var ii=(0,w.ZP)(ni());var oi=t(49444),li=t(12215),ai=t(24897),ui=t(37497);var si={id:"Profile",title:"New Replit Profile",content:function(){return(0,s.tZ)(S.ZP,{children:(0,s.BX)("ul",{css:[I.l0.p(16),{listStyle:"disc",lineHeight:2}],children:[(0,s.tZ)("li",{children:"Appear online or offline"}),(0,s.tZ)("li",{children:"Repls are now part of your profile"}),(0,s.tZ)("li",{children:"Set a profile cover image"}),(0,s.tZ)("li",{children:"Add social media links to your profile"}),(0,s.tZ)("li",{children:"Show off Repl comment activity"})]})})}};function ci(e){var n=e.targetElement,t=(0,li.Z)("announcement","learn-onboarding"),r=t.finished,i=t.register,o=(0,li.Z)("announcement","profile2"),l=o.shouldDisplay,a=o.register,u=o.dismiss;return c.useEffect((function(){i()}),[i]),c.useEffect((function(){a()}),[a]),!n||!r||!l?null:(0,s.BX)(s.HY,{children:[(0,s.tZ)(ai.w,{targetElement:n}),(0,s.tZ)(ui.k,{placement:"bottom-start",targetElement:n,activeStep:si,currentStepIndex:0,done:u,goto:function(){},totalSteps:1,disableAnimation:!0})]})}var di,fi=function(e){var n,t,r,i,a,u,d,f,p=function(e){var n=(0,o.Z)({},ti,e);return R.useQuery(ri,n)}({variables:{username:e.username},pollInterval:12e4}).data,h=(0,K.Z)().showError,v=c.useRef(null),m=(0,l.Z)(function(e){var n=(0,o.Z)({},ti,e);return R.useMutation(ii,n)}({onCompleted:function(e){var n,t;"UserError"!==(null===(n=e.updateUserPrivacyPreferences)||void 0===n?void 0:n.__typename)&&"UnauthorizedError"!==(null===(t=e.updateUserPrivacyPreferences)||void 0===t?void 0:t.__typename)||h(e.updateUserPrivacyPreferences.message)},onError:function(e){return h(e.message)}}),1),Z=m[0],g=null!=(null===p||void 0===p?void 0:p.user)&&(null===(n=p.user)||void 0===n?void 0:n.id)===(null===(t=p.currentUser)||void 0===t?void 0:t.id),b=null===(d=null===p||void 0===p||null===(r=p.currentUser)||void 0===r?void 0:r.showPresence)||void 0===d||d,w=c.useCallback((function(){var e;Z({variables:{input:{show_presence:b?W.YH.Never:W.YH.WhenOnline}},optimisticResponse:{updateUserPrivacyPreferences:{__typename:"CurrentUser",id:(null===p||void 0===p||null===(e=p.currentUser)||void 0===e?void 0:e.id)||0,showPresence:!b}}})}),[null===p||void 0===p||null===(i=p.currentUser)||void 0===i?void 0:i.id,b,Z]),x=(0,an.Z)();if(c.useEffect((function(){return x()}),[x]),!p||(null===(a=p.user)||void 0===a?void 0:a.hasPrivacyRole)||!p.currentUser||!(null===p||void 0===p||null===(u=p.user)||void 0===u?void 0:u.presenceStatus))return null;var y=g?b:null!==(f=p.user.presenceStatus.isOnline)&&void 0!==f&&f,P=y?I.l0.color.accentPositiveStronger:I.l0.color.foregroundDimmer,k=function(e){return e?"Online":"Offline"},C=!y&&!g&&null!=p.user.presenceStatus.lastSeen&&"Last online ".concat((0,Ne.F)(p.user.presenceStatus.lastSeen));return g?(0,s.BX)(s.HY,{children:[(0,s.tZ)(S.ZP,{css:[I.l0.align.start],children:(0,s.tZ)(ue.ZE,{css:{backgroundColor:"transparent"},label:C||k(y),"aria-label":"update online presence",icon:(0,s.tZ)(oi.SmallCircle,{css:[P]}),onAction:function(){return w()},innerRef:v,children:(0,s.BX)(ue.ck,{children:[(0,s.BX)(Y.x,{children:["Set yourself as ",k(!y).toLowerCase()]}),y&&(0,s.tZ)(Y.x,{multiline:!0,color:"dimmer",variant:"small",children:"This will not affect your visibility within Repls or Teams."})]},"option")})}),(0,s.tZ)(ci,{targetElement:v.current})]}):(0,s.BX)(S.ZP,{css:[I.l0.rowWithGap(4),I.l0.align.center,I.l0.p(4)],children:[(0,s.tZ)(oi.SmallCircle,{css:[P]}),(0,s.tZ)(Y.x,{css:[P],children:C||k(y)})]})},pi=function(e){var n=e.refetchRepls,t=(0,l.Z)(c.useState(!1),2),r=t[0],o=t[1];return(0,s.BX)(S.ZP,{css:[I.l0.flex.grow(2),(0,i.Z)({},(0,G.et)("tabletMin"),[I.l0.px(16)])],children:[(0,s.BX)(O.Z,{background:"higher",css:[I.l0.width("100%"),I.l0.justify.center,I.l0.align.center,{height:240,position:"relative",overflow:"hidden"},(0,i.Z)({},(0,G.et)("tabletMin"),{borderRadius:16})],children:[(0,s.BX)(S.ZP,{css:[I.l0.colWithGap(16),I.l0.px(32),I.l0.align.center,I.l0.textAlign.center,I.l0.zIndex(2)],children:[(0,s.tZ)(Y.x,{variant:"headerDefault",multiline:!0,children:"Pin a Repl to showcase it to others!"}),(0,s.tZ)(ie.ZP,{iconLeft:(0,s.tZ)(se.Z,{}),colorway:"primary",text:"Pin a Repl",onClick:function(){return o(!0)},stretch:!1})]}),(0,s.tZ)(S.ZP,{css:[{position:"absolute",top:68,left:"max(75%, 256px)",width:256}],children:(0,s.tZ)("img",{src:"/public/images/robot_holding_a_pen_512w.png",alt:"a drawing of a robot hand holding a pen"})})]}),(0,s.tZ)(X.Z,{isOpen:r,onRequestClose:function(){return o(!1)},children:(0,s.tZ)(tn,{onSelect:function(){n(),o(!1)},showcasedRepls:[],showComboBox:!0})})]})},hi=t(37838),vi=t(5784);!function(e){e[e.ReplDialog=0]="ReplDialog",e[e.Publish=1]="Publish",e[e.None=2]="None"}(di||(di={}));var mi=function(){var e,n,t,r,a,u,m,Z=(0,f.useRouter)(),g=Z.query,b=Z.asPath,w=(0,vi.Z)("username","string")||"",x=(0,vi.Z)("order","string"),y=(0,vi.Z)("count","number"),P=(0,vi.Z)("showcasedReplIndex","number"),R=(0,l.Z)(function(){var e=(0,vi.Z)("dialogReplId","string"),n=(0,l.Z)(c.useState(di.None),2),t=n[0],r=n[1];return e?[di.ReplDialog,e,r]:[t,void 0,r]}(),3),k=R[0],C=R[1],U=R[2],S=(0,Gt.DC)({variables:{username:w}}),I=S.data,E=S.loading,B=S.error,_=S.refetch,M=null===I||void 0===I?void 0:I.currentUser,O=null===I||void 0===I?void 0:I.user,W=function(e){var n=(0,vi.Z)("tab","string");return Dt.find((function(e){return e===n}))||(e?"repls":"community")}((null===M||void 0===M?void 0:M.username)===(null===O||void 0===O?void 0:O.username)),L=(0,gr.vT)(b),A=(0,gr.EZ)(L);if(B)return(0,s.tZ)(d.default,{statusCode:404});var N=!E&&O&&void 0!==P?O.pinnedRepls[P]:void 0,j=(null===M||void 0===M?void 0:M.username)===w,z=j?null===M||void 0===M?void 0:M.hasRepl:(null===O||void 0===O||null===(e=O.publicRepls)||void 0===e?void 0:e.items)&&(null===O||void 0===O||null===(n=O.publicRepls)||void 0===n||null===(t=n.items)||void 0===t?void 0:t.length)>0,V=(null===N||void 0===N?void 0:N.description)||(null===O||void 0===O?void 0:O.bio)||void 0,F=(null===N||void 0===N?void 0:N.imageUrl)||(null===O||void 0===O?void 0:O.image),$="";if(O){var H=O.fullName?" (".concat(O.fullName,")"):"";$=O.username+H,N&&($="".concat(N.title," by ").concat($))}var Y,q=O&&(0,s.tZ)(sn,{currentUser:M,refetchRepls:_,user:O});return(0,s.BX)(p.Z,{description:V,image:F,title:$,children:[(0,s.tZ)(Jr,{username:w,isOwnProfile:j}),E?(0,s.tZ)(D.G7,{css:[D.l0.align.center,D.l0.pt(32)],children:(0,s.tZ)(v.Z,{})}):O?O.redirectToTeamDashboard?(0,s.tZ)(pn,{username:O.username}):(0,s.BX)(D.G7,{css:[D.l0.flex.row,D.l0.width("100%"),D.l0.maxWidth(1400),(0,i.Z)({flexDirection:"column",paddingTop:104},(0,G.et)("tabletMax"),{flexDirection:"row",margin:"0 auto",paddingTop:96})],children:[(0,s.BX)(D.G7,{css:[D.l0.pb(32),D.l0.px(16),D.l0.position.relative,D.l0.colWithGap(8),(Y={},(0,i.Z)(Y,(0,G.et)("tabletMin"),[D.l0.flex.column]),(0,i.Z)(Y,(0,G.et)("tabletMax"),[D.l0.colWithGap(16),D.l0.position.sticky,D.l0.top(96),{alignSelf:"start"}]),(0,i.Z)(Y,(0,G.EM)("tabletMax"),[D.l0.pb(0)]),Y)],children:[(0,s.tZ)(It,{user:O,currentUser:M,onUpdate:_}),!(null===(r=I.user)||void 0===r?void 0:r.isBlockingCurrentUser)&&(0,s.BX)(s.HY,{children:[(0,s.tZ)(fi,{username:O.username}),(0,s.tZ)(_r,{user:O})]})]}),(0,s.tZ)(D.G7,{css:[D.l0.flex.grow(2),D.l0.flex.shrink(2),(null===(a=O.pinnedRepls)||void 0===a?void 0:a.length)<1&&!j&&D.l0.pt(128),(0,i.Z)({},(0,G.EM)("tabletMax"),[(null===(u=O.pinnedRepls)||void 0===u?void 0:u.length)<1&&D.l0.pt(0)])],children:!j&&(null===I||void 0===I?void 0:I.user)&&I.user.isBlockingCurrentUser?(0,s.tZ)(D.G7,{css:[D.l0.align.center,D.l0.colWithGap(64),D.l0.pt(32),D.l0.zIndex(2),(0,i.Z)({},(0,G.EM)("tabletMin"),(0,o.Z)({},D.l0.p(4),D.l0.colWithGap(32)))],children:(0,s.BX)(D.G7,{css:[D.l0.colWithGap(24),D.l0.align.center,D.l0.textAlign.center],children:[(0,s.tZ)(D.xv,{variant:"subheadBig",multiline:!0,children:"You're blocked"}),(0,s.BX)(D.xv,{multiline:!0,children:["You can't follow, comment or see ",I.user.username,"'s Repls on their profile."]})]})}):(0,s.tZ)(s.HY,{children:z?(0,s.BX)(D.G7,{css:[D.l0.colWithGap(16),D.l0.mt(16)],children:[(null===(m=O.pinnedRepls)||void 0===m?void 0:m.length)>0&&q,(null===M||void 0===M?void 0:M.id)===O.id&&O.pinnedRepls.length<1&&(0,s.tZ)(pi,{refetchRepls:_}),(0,s.tZ)(Xt,{currentTab:W,currentUser:M}),"repls"===W?(0,s.BX)(D.G7,{css:D.l0.px(16),children:[j&&(0,s.BX)(D.G7,{css:[D.l0.flex.row,D.l0.justify.spaceBetween,D.l0.align.center,D.l0.my(16)],children:[(0,s.tZ)(or.Z,{links:A,username:w}),M&&(M.isAdmin||!M.isPrivacyAccount)&&(0,s.tZ)(D.zx,{iconLeft:(0,s.tZ)(Mr.Z,{}),colorway:"primary",text:"Publish a Repl",onClick:function(){U(di.Publish)}})]}),(0,s.tZ)(D.G7,{css:[D.l0.pb(128)],children:j?(0,s.tZ)(ir.Z,{path:L,starred:g.starred?!!g.starred:void 0,refetchRepls:_}):(0,s.tZ)(Zr,{user:O})})]}):null,"community"===W?(0,s.tZ)(T,{username:w,order:null!==x&&void 0!==x?x:"new",count:y}):null,"warnings"===W&&((null===M||void 0===M?void 0:M.isAdmin)||(null===M||void 0===M?void 0:M.isModerator))?(0,s.tZ)(rr,{username:w}):null]}):(0,s.tZ)(Rr,{isOwnProfile:j})})})]}):(0,s.tZ)(h.Z,{}),(0,s.tZ)(X.Z,{isOpen:k===di.ReplDialog,onRequestClose:function(){if(O){var e=(0,Bn.Ru)(O);Z.replace(e.href,e.as)}},maxWidth:1200,children:C&&(0,s.tZ)(Ot.Z,{replId:C})}),(0,s.tZ)(X.Z,{isOpen:k===di.Publish,onRequestClose:function(){return U(di.None)},maxWidth:872,noPadding:!0,fitContent:!0,children:(0,s.tZ)(hi.Z,{source:"profile"})})]})};mi.getInitialProps=function(){var e=(0,r.Z)(u().mark((function e(n){var t,r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.req,r=n.store,e.next=3,(0,m.Z)(t,r);case 3:return e.abrupt("return",{});case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();var Zi=mi},19409:function(){},12918:function(e,n,t){e.exports=t(89185)}},function(e){var n=function(n){return e(e.s=n)};e.O(0,[3662,5762,8350,3443,2240,1627,8764,6625,8966,4778,8003,9998,8944,8813,7485,5499,6165,6085,4837,8135,1889,395,8738,4286,7046,2350,3497,3576,634,3480,1622,4320,5208,8583,8443,8727,7838,6243,265,9774,2888,179],(function(){return n(25436),n(34270)}));var t=e.O();_N_E=t}]);
//# sourceMappingURL=profile-63ed6e2b92eb5cd7.js.map