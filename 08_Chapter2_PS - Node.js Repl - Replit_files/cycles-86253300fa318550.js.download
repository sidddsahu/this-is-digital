(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4951],{69119:function(e,n,r){"use strict";r.d(n,{Z:function(){return i}});var t=r(19013),l=r(13882);function i(e){(0,l.Z)(1,arguments);var n=(0,t.Z)(e);return n.setHours(0,0,0,0),n}},96590:function(e,n,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/cycles",function(){return r(40124)}])},62794:function(e,n,r){"use strict";var t=r(10253),l=r(35944),i=r(67294),c=r(48821),o=r(1879),a=r(69346),s=r(10164),u=r(81255),d=r(1144);n.Z=function(e){var n=e.feature,r=(0,t.Z)(i.useState(!1),2),p=r[0],f=r[1];return(0,l.BX)(l.HY,{children:[(0,l.tZ)(a.ZP,{onClick:function(){return f(!p)},children:(0,l.tZ)(d.x,{css:[u.l0.fontSize("inherit"),u.l0.color.accentPrimaryStronger,u.l0.cursor.pointer,{":hover":{color:u.TV.accentPrimaryStrongest}}],children:"Share feedback"})}),(0,l.tZ)(c.b5,{children:(0,l.tZ)(o.Z,{isOpen:p,onRequestClose:function(){f(!1)},children:(0,l.tZ)(s.Z,{setFeedbackFormOpen:f,feature:n})})})]})}},30439:function(e,n,r){"use strict";r.d(n,{BW:function(){return s},Fc:function(){return u}});var t=r(26042),l=r(7297),i=r(31230),c=r(46829);function o(){var e=(0,l.Z)(["\n  query RunningOutOfCyclesBanner {\n    currentUser {\n      id\n      cycles {\n        forecast(daysFromNow: 7) {\n          ... on CyclesForecast {\n            hasSufficientCycles\n          }\n        }\n      }\n    }\n  }\n"]);return o=function(){return e},e}var a={},s=(0,i.ZP)(o());function u(e){var n=(0,t.Z)({},a,e);return c.useQuery(s,n)}},41893:function(e,n,r){"use strict";r.d(n,{T:function(){return s}});var t=r(14924),l=r(35944),i=r(65975),c=r(49444),o=r(30439),a=r(85485);function s(e){var n,r=e.includeMyCyclesCTA,s=void 0===r||r,u=(0,o.Fc)(),d=u.data,p=u.loading,f="CyclesForecast"===(null===d||void 0===d||null===(n=d.currentUser)||void 0===n?void 0:n.cycles.forecast.__typename)?d.currentUser.cycles.forecast.hasSufficientCycles:void 0;return p||null==f||f?null:(0,l.BX)(i.G7,{css:[i.l0.rowWithGap(16),(0,t.Z)({},(0,a.EM)("mobileMax"),i.l0.colWithGap(16)),i.l0.justify.center,i.l0.align.center,i.l0.color.foregroundDefault,i.l0.backgroundColor.accentPrimaryDimmest,i.l0.width("100%"),i.l0.minHeight(58),i.l0.p(12),{borderColor:i.TV.accentPrimaryDimmer,borderStyle:"solid",borderWidth:"1px 0px"}],children:[(0,l.tZ)(i.xv,{multiline:!0,css:[i.l0.flex.shrink(1),i.l0.textAlign.left],children:"Based on your usage, you'll run out of Cycles soon!"}),!!s&&(0,l.tZ)(i.ZP,{href:"/cycles",text:"View your Cycles",colorway:"primary",iconLeft:(0,l.tZ)(c.Cycles,{})})]})}},70338:function(e,n,r){"use strict";var t=r(47568),l=r(34051),i=r.n(l),c=r(15794);n.Z=function(){var e=(0,t.Z)(i().mark((function e(n,r){var t,l,o;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n){e.next=5;break}t=n.user,e.next=14;break;case 5:if(!((l=r.getState().user)&&l.userInfo.isLoggedIn&&l.userInfo)){e.next=10;break}t=l.userInfo,e.next=14;break;case 10:return e.next=12,(0,c.LK)("/is_authenticated");case 12:(o=e.sent).success&&(t=o.user);case 14:return t&&(n&&(t=JSON.parse(JSON.stringify(t))),r.dispatch({type:"FETCH_USER_INFO_SUCCESS",user:t})),e.abrupt("return",{user:t});case 16:case"end":return e.stop()}}),e)})));return function(n,r){return e.apply(this,arguments)}}()},40124:function(e,n,r){"use strict";r.r(n),r.d(n,{default:function(){return ze}});var t=r(47568),l=r(14924),i=r(10253),c=r(34051),o=r.n(c),a=r(35944),s=r(78738),u=r(10164),d=r(62794),p=r(20861),f=r(86292),h=r(65975),v=r(38164),Z=r(46702),y=r(73147),g=r(96781);function m(){var e=(0,p.Z)({forceFetch:!1}),n=e.formattedBalanceWithDecimals,r=e.loading;return e.error?null:r?(0,a.tZ)(h.xv,{variant:"headerDefault",children:"My Cycles"}):(0,a.BX)(h.G7,{css:[h.l0.colWithGap(8)],children:[(0,a.BX)(h.G7,{css:[h.l0.flex.row,h.l0.justify.spaceBetween,h.l0.align.baseline],children:[(0,a.tZ)(h.xv,{variant:"subheadDefault",color:"dimmer",children:"Cycles balance"}),(0,a.tZ)(d.Z,{feature:u.l.Cycles})]}),(0,a.BX)(h.G7,{css:[h.l0.flex.row,h.l0.align.center],children:[(0,a.tZ)(v.Z,{size:32,css:{marginRight:6}}),(0,a.tZ)(h.xv,{variant:"headerBig",children:n})]})]})}function x(e){var n=e.hasCyclesTransactions,r=e.onRequestBuyCyclesModal;return(0,a.BX)(h.Tg,{elevated:!0,css:[h.l0.colWithGap(16),h.l0.p(16),h.l0.borderRadius(16)],children:[(0,a.tZ)(m,{}),(0,a.BX)(h.G7,{css:h.l0.rowWithGap(8),children:[n?(0,a.tZ)(g.Z,{onClick:function(){r(),(0,f.j)(f.U3.UPGRADE_SELECTED,{source:"cycles_page",planID:"cycles"})}}):null,(0,a.tZ)(h.ZP,{href:y.TT.CYCLES_FAQ,text:"Learn more about Cycles",target:"_blank",iconRight:(0,a.tZ)(Z.Z,{})})]})]})}var w=r(83117);function C(){var e=(0,p.Z)({forceFetch:!1}),n=e.formattedBalanceWithDecimals,r=e.loading;return e.error?null:r?(0,a.tZ)(h.xv,{variant:"headerDefault",children:"My Cycles"}):(0,a.BX)(h.G7,{css:[h.l0.colWithGap(8)],children:[(0,a.BX)(h.G7,{css:[h.l0.flex.row,h.l0.justify.spaceBetween,h.l0.align.baseline],children:[(0,a.tZ)(h.xv,{variant:"subheadDefault",color:"dimmer",children:"Cycles balance"}),(0,a.tZ)(d.Z,{feature:u.l.Cycles})]}),(0,a.BX)(h.G7,{css:[h.l0.flex.row,h.l0.align.center],children:[(0,a.tZ)(v.Z,{size:32,css:{marginRight:6}}),(0,a.tZ)(h.xv,{variant:"headerBig",children:n})]})]})}function B(e){var n=e.hasCyclesTransactions,r=e.onRequestBuyCyclesModal;return(0,a.BX)(h.Tg,{elevated:!0,css:[h.l0.flex.column,h.l0.borderRadius(16)],children:[(0,a.BX)(h.G7,{css:[h.l0.p(16),h.l0.colWithGap(16)],children:[(0,a.tZ)(C,{}),(0,a.BX)(h.G7,{css:h.l0.rowWithGap(8),children:[n?(0,a.tZ)(g.Z,{onClick:function(){r(),(0,f.j)(f.U3.UPGRADE_SELECTED,{source:"cycles_page",planID:"cycles"})}}):null,(0,a.tZ)(h.ZP,{href:y.TT.CYCLES_FAQ,text:"Learn more about Cycles",target:"_blank",iconRight:(0,a.tZ)(Z.Z,{})})]})]}),(0,a.tZ)(h.RX,{}),(0,a.BX)(h.G7,{css:[h.l0.rowWithGap(16),h.l0.p(16),h.l0.align.center],children:[(0,a.tZ)(h.zx,{iconLeft:(0,a.tZ)(w.Z,{}),text:"Set up Auto-Refill"}),(0,a.tZ)(h.xv,{children:"Make sure you never run out"})]})]})}var b=r(60284),G=r(92982),U=r(26042),S=r(69396),P=r(29815),T=r(67294),_=r(34140);function D(e){var n=e.item;return(0,a.tZ)("td",{children:n})}function R(e){var n=e.rowData;return(0,a.tZ)("tr",{css:[h.l0.px(4),h.l0.py(12),{display:"grid",gridTemplateColumns:"1fr 1fr 64px",columnGap:16,borderTop:"1px solid "+h.TV.outlineDimmest,":first-of-type":{borderTop:"none"}}],children:n.map((function(e,n){return(0,a.tZ)("td",{children:e},n)}))})}function X(e){var n=e.headerColumns,r=e.bodyData,t=(0,_.S)().visuallyHiddenProps;return(0,a.BX)("table",{"data-cy":"cycles-usage-table",children:[(0,a.tZ)("thead",(0,S.Z)((0,U.Z)({},t),{children:(0,a.tZ)("tr",{children:n.map((function(e,n){return(0,a.tZ)(D,{item:e},n)}))})})),(0,a.tZ)("tbody",{children:r.map((function(e,n){return(0,a.tZ)(R,{rowData:e},n)}))})]})}var E=r(19536),W=r(4972),k=r(93058),M=r(44161),I=r(19465),N=r(77365),q=r(57704),O=r(30381),F=r.n(O),L=r(90317),A=r(69119),V=r(13882);function Y(e,n){(0,V.Z)(2,arguments);var r=(0,A.Z)(e),t=(0,A.Z)(n);return r.getTime()===t.getTime()}var j=r(96486);function z(e,n){var r=function(e){var n;return(0,P.Z)(e).sort((function(e,n){return e.time_created>n.time_created?1:-1})).reverse().reduce((function(e,r){var t=new Date(r.time_created);return r.type!==L.tP.Redeemed?(e.push({date:t,cycles:r.cycles,type:r.type}),e):n&&Y(n.date,t)?(n.cycles+=r.cycles,e):(n={date:t,cycles:r.cycles,type:r.type},e.push(n),e)}),[])}(e),t=(0,j.findLastIndex)(r,(function(e){return e.type===L.tP.Redeemed}));return-1!==t&&n&&Y(r[t].date,r[r.length-1].date)?r.slice(0,t):r}var H=r(7297),Q=r(31230),$=r(46829);function J(){var e=(0,H.Z)(["\n  query CyclesHistory($count: Int!, $after: String!) {\n    currentUser {\n      id\n      cycles {\n        transactions(count: $count, after: $after) {\n          items {\n            id\n            cycles\n            type\n            time_created\n          }\n          pageInfo {\n            hasNextPage\n            nextCursor\n          }\n        }\n      }\n    }\n  }\n"]);return J=function(){return e},e}var K,ee={},ne=(0,Q.ZP)(J());var re,te=(K={},(0,l.Z)(K,L.tP.Purchased,{icon:(0,a.tZ)(M.Z,{}),description:"Purchase"}),(0,l.Z)(K,L.tP.Redeemed,{icon:(0,a.tZ)(v.Z,{}),description:"Cycles usage"}),(0,l.Z)(K,L.tP.Retired,{icon:(0,a.tZ)(q.Z,{}),description:"Retired"}),(0,l.Z)(K,L.tP.Granted,{icon:(0,a.tZ)(I.Z,{}),description:"Granted by Replit"}),K),le=function(){return(0,a.tZ)(h.G7,{"data-cy":"cycles-transactions-loading",css:[h.l0.height(40),h.l0.flex.row,h.l0.align.center,h.l0.justify.center],children:(0,a.tZ)(N.Z,{size:24})})},ie=["Description","Amount","Date"],ce=(re="No transactions...",[[(0,a.tZ)(h.xv,{children:re},1),"",""]]);function oe(e){var n="MMM D";return e.getFullYear()!==(new Date).getFullYear()&&(n+=", YYYY"),F()(e).format(n)}function ae(){var e,n,r,l,i,c,s,u,d=(0,k.Z)().showError,p=function(e){var n=(0,U.Z)({},ee,e);return $.useQuery(ne,n)}({notifyOnNetworkStatusChange:!0,variables:{count:100,after:"0"},fetchPolicy:"network-only",nextFetchPolicy:"cache-first",ssr:!1}),f=p.data,Z=p.loading,y=p.error,g=p.fetchMore,m=function(){var e=(0,t.Z)(o().mark((function e(){var n,r,t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Z){e.next=3;break}return e.abrupt("return");case 3:return t=(null===(r=null===f||void 0===f||null===(n=f.currentUser)||void 0===n?void 0:n.cycles.transactions)||void 0===r?void 0:r.pageInfo.nextCursor)||"0",e.next=6,g({variables:{after:t,count:100},updateQuery:function(e,n){var r,t,l,i=n.fetchMoreResult,c=(0,U.Z)({},i);return(null===(r=c.currentUser)||void 0===r?void 0:r.cycles.transactions)?(c.currentUser.cycles.transactions=(0,S.Z)((0,U.Z)({},c.currentUser.cycles.transactions),{items:(0,P.Z)((null===(l=null===(t=e.currentUser)||void 0===t?void 0:t.cycles.transactions)||void 0===l?void 0:l.items)||[]).concat((0,P.Z)(c.currentUser.cycles.transactions.items||[]))}),c):e}});case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),x=(0,W.Z)({onLoadMore:m}).targetRef;if(y)return d(y),(0,a.tZ)(h.xv,{children:y.message});var w=z((null===f||void 0===f||null===(e=f.currentUser)||void 0===e||null===(n=e.cycles)||void 0===n||null===(r=n.transactions)||void 0===r?void 0:r.items)||[],null!==(u=null===(i=null===f||void 0===f||null===(l=f.currentUser)||void 0===l?void 0:l.cycles.transactions)||void 0===i?void 0:i.pageInfo.hasNextPage)&&void 0!==u&&u).map((function(e){var n=(0,a.BX)(h.G7,{css:[h.l0.rowWithGap(8),h.l0.flex.growAndShrink(1)],children:[te[e.type].icon,(0,a.tZ)(h.xv,{css:{fontWeight:h.TV.fontWeightMedium},children:te[e.type].description})]},1),r=e.cycles>0?h.TV.accentPositiveStronger:h.TV.foregroundDimmer;return[n,(0,a.BX)(h.G7,{css:[h.l0.rowWithGap(2),{justifyContent:"end",color:r,fontWeight:h.TV.fontWeightMedium,textAlign:"right"}],children:[(0,a.tZ)(h.xv,{children:e.cycles<0?"-":"+"}),(0,a.tZ)(v.Z,{size:16}),(0,a.tZ)(h.xv,{children:(0,E.H2)(Math.abs(e.cycles))})]},2),(0,a.tZ)(h.xv,{css:{textAlign:"right",width:"100%"},children:oe(e.date)},3)]}))||ce;return(0,a.BX)(h.G7,{css:h.l0.colWithGap(8),children:[(0,a.tZ)(h.xv,{variant:"subheadDefault",color:"dimmer",children:"Transactions"}),(0,a.tZ)(X,{headerColumns:ie,bodyData:w}),Z&&(0,a.tZ)(le,{}),(null===(s=null===f||void 0===f||null===(c=f.currentUser)||void 0===c?void 0:c.cycles.transactions)||void 0===s?void 0:s.pageInfo.hasNextPage)&&!Z&&(0,a.tZ)(h.zx,{text:"Load more",ref:x,onClick:m})]})}var se=r(41664),ue=r.n(se),de=r(519),pe=r(82447),fe=r(49427),he=r(9614),ve=r(30439),Ze=r(88046),ye=r(83946),ge=r(51820);var me,xe=r(12195),we=r(89149),Ce=r(20177),Be=r(57208),be=r(82893),Ge=r(71471),Ue=r(4158);!function(e){e.SpendCycles="SpendCycles",e.BuyCycles="BuyCycles"}(me||(me={}));var Se={query:he.s8},Pe={query:fe.zy},Te={query:fe.CC},_e={query:ve.BW},De=function(e){var n=new Date(e.time_fulfillment_due);if(n<=function(e,n){(0,V.Z)(2,arguments);var r=(0,ye.Z)(n);return(0,ge.Z)(e,6e4*r)}(new Date,30))return e.active?"Renewing soon...":"Expiring soon...";var r=(0,xe.Z)(new Date,n);return e.active?"Renews in ".concat(r):"Expires in ".concat(r)};function Re(e){var n=e.powerUpType,r=e.user;return(0,a.BX)(h.G7,{css:[h.l0.colWithGap(12),h.l0.justify.center,h.l0.align.center,h.l0.p(12)],children:[(0,a.tZ)(h.xv,{variant:"small",color:"dimmer",children:we.S[n].description}),r&&(0,a.tZ)(h.ZP,(0,S.Z)((0,U.Z)({},(0,pe.Ru)(r)),{prefetch:!1,text:"Go to My Repls",small:!0}))]})}function Xe(e){var n,r,l=e.privatePowerUp,c=e.context,s=(0,k.Z)().showError,u=(0,i.Z)((0,fe.nr)({onCompleted:function(e){"UserError"===e.updatePrivatePowerUp.__typename&&s(e.updatePrivatePowerUp.message)},onError:function(e){return s((0,Be.Z)(e.message))}}),2),d=u[0],p=u[1].loading,f=(0,i.Z)(T.useState(null),2),Z=f[0],y=f[1],g=(0,fe.lU)(),m=g.data,x=g.loading,w="UserPowerUpCostsType"===(null===m||void 0===m||null===(n=m.currentUser)||void 0===n?void 0:n.powerUpCosts.__typename)&&m.currentUser.powerUpCosts.private.explanation||null,C=function(){var e=null==l,n=!!e||!l.active,r=[Se,Pe,_e];e&&r.push(Te),d({variables:{active:n},refetchQueries:r})};return(0,a.BX)(a.HY,{children:[(0,a.BX)(h.Tg,{elevated:!0,css:[h.l0.colWithGap(12),h.l0.p(16),h.l0.borderRadius(16)],children:[(0,a.BX)(h.G7,{css:[h.l0.flex.row,h.l0.justify.spaceBetween,h.l0.align.center],children:[(0,a.BX)(h.G7,{css:[h.l0.rowWithGap(8),h.l0.align.center],children:[(0,a.tZ)(be.Z,{}),(0,a.tZ)(h.h4,{level:2,variant:"subheadDefault",children:"Private Repls"})]}),(0,a.tZ)(de.Z,{isOn:null!==(r=null===l||void 0===l?void 0:l.active)&&void 0!==r&&r,onChange:function(){if(!x&&!p&&null!=w)if("NEEDS_CYCLES"!==w&&"SPEND_CYCLES"!==w){if("INCLUDED_IN_EXISTING_ORDER"!==w){if("INCLUDED_IN_SUBSCRIPTION"===w)return(null===l||void 0===l?void 0:l.active)?void C():void s("Private is already included in your subscription");throw new Error("Unexpected cost explanation for enabling private: ".concat(w))}C()}else y(me.SpendCycles)}})]}),(0,a.BX)(h.G7,{css:[h.l0.flex.row,h.l0.justify.spaceBetween,h.l0.align.center],children:[(0,a.BX)(h.G7,{css:[h.l0.rowWithGap(2),h.l0.align.center,h.l0.flex.growAndShrink(1),h.l0.pr(24)],children:[(0,a.tZ)(v.Z,{color:h.TV.foregroundDimmer,size:12}),(0,a.BX)(h.xv,{variant:"small",color:"dimmer",children:[we.S.private.perCost," per month, unlimited Repls"]})]}),(0,a.tZ)(h.xv,{variant:"small",color:"dimmest",children:l&&De(l)})]})]}),(0,a.tZ)(G.Z,{isOpen:Z===me.BuyCycles,onRequestClose:function(){return y(null)},uponPurchaseGoTo:"cyclesPage",context:c}),(0,a.tZ)(Ce.Z,{context:c,isOpen:Z===me.SpendCycles,onRequestClose:function(){return y(null)},onRequestBuyMore:function(){return y(me.BuyCycles)},onRequestPowerUp:(0,t.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return C(),e.next=3,new Promise((function(e){return setTimeout(e,3e3)}));case 3:y(null);case 4:case"end":return e.stop()}}),e)}))),canSpend:w!==L.Ch.NeedsCycles,powerUp:"private"})]})}function Ee(e){var n=e.powerUp;return(0,a.tZ)(ue(),(0,S.Z)((0,U.Z)({passHref:!0},(0,Ze.aq)(n.repl)),{children:(0,a.BX)(h.G7,{css:[h.gU.listItem,h.l0.flex.row,h.l0.justify.spaceBetween,h.l0.px(16),h.l0.py(8),h.l0.align.center],children:[(0,a.BX)(h.G7,{css:[h.l0.rowWithGap(8),h.l0.align.center,h.l0.flex.growAndShrink(1),h.l0.pr(32)],children:[(0,a.tZ)(h.G7,{css:[h.l0.borderRadius(4),h.l0.overflow("hidden")],children:(0,a.tZ)(Ge.Z,{iconUrl:n.repl.iconUrl,alt:n.repl.title,size:16,css:{" img":{borderRadius:4}}})}),(0,a.tZ)(h.xv,{css:{fontWeight:h.TV.fontWeightMedium},children:n.repl.title})]}),(0,a.tZ)(h.xv,{variant:"small",color:"dimmest",css:h.l0.textAlign.right,children:De(n)})]})}))}function We(e){var n=e.powerUpType,r=e.length;return(0,a.BX)(h.G7,{css:[h.l0.flex.row,h.l0.justify.spaceBetween,h.l0.align.center,h.l0.p(16),h.l0.pb(12),{borderBottom:"1px solid "+h.TV.backgroundHighest}],children:[(0,a.BX)(h.G7,{css:[h.l0.rowWithGap(8),h.l0.align.center],children:[we.S[n].icon,(0,a.BX)(h.h4,{level:2,variant:"subheadDefault",children:[" ",we.S[n].title]})]}),(0,a.tZ)(h.G7,{css:[h.l0.rowWithGap(8),h.l0.align.center],children:r>0&&(0,a.BX)(a.HY,{children:[(0,a.BX)(h.G7,{css:[h.l0.rowWithGap(2),h.l0.align.center],children:[(0,a.tZ)(v.Z,{color:h.TV.foregroundDimmer,size:12}),(0,a.BX)(h.xv,{color:"dimmer",variant:"small",children:[we.S[n].perCost*r," per"," ",we.S[n].orderDuration]})]}),(0,a.tZ)(h.u,{tooltip:"".concat(we.S[n].perCost," Cycles per ").concat(we.S[n].orderDuration," \xd7 ").concat(r," Repls"),children:(0,a.tZ)(Ue.Z,{size:16,color:h.TV.foregroundDimmer})})]})})]})}function ke(e){var n=e.children,r=e.header;return(0,a.BX)(h.Tg,{elevated:!0,css:[h.l0.borderRadius(16),h.l0.overflow("hidden")],children:[r,(0,a.tZ)(h.G7,{css:[h.l0.pt(8),h.l0.pb(12)],children:n})]})}function Me(e){var n,r,t=e.context,l=(0,fe.kK)({fetchPolicy:"network-only",nextFetchPolicy:"cache-first",ssr:!1}),i=l.data;if(l.loading)return(0,a.tZ)(h.G7,{css:[h.l0.center,h.l0.mt(48)],children:(0,a.tZ)(N.Z,{})});var c=null===i||void 0===i||null===(n=i.currentUser)||void 0===n?void 0:n.replPowerUps,o=null===i||void 0===i||null===(r=i.currentUser)||void 0===r?void 0:r.userPowerUps,s=(null===c||void 0===c?void 0:c.filter((function(e){return"alwaysOn"===e.type})))||[],u=(null===c||void 0===c?void 0:c.filter((function(e){return"boost"===e.type})))||[],d=(null===o||void 0===o?void 0:o.find((function(e){return"private"===e.type})))||null;return(0,a.BX)(h.G7,{css:h.l0.colWithGap(8),children:[(0,a.tZ)(h.xv,{variant:"subheadDefault",color:"dimmer",children:"Power Ups"}),(0,a.BX)(h.G7,{css:h.l0.colWithGap(16),children:[(0,a.tZ)(Xe,{privatePowerUp:d,context:t}),(0,a.tZ)(ke,{header:(0,a.tZ)(We,{length:s.length,powerUpType:"always-on"}),children:s.length?s.map((function(e){return(0,a.tZ)(Ee,{powerUp:e},e.id)})):(0,a.tZ)(Re,{powerUpType:"always-on",user:null===i||void 0===i?void 0:i.currentUser})}),(0,a.tZ)(ke,{header:(0,a.tZ)(We,{length:u.length,powerUpType:"boost"}),children:u.length?u.map((function(e){return(0,a.tZ)(Ee,{powerUp:e},e.id)})):(0,a.tZ)(Re,{powerUpType:"boost",user:null===i||void 0===i?void 0:i.currentUser})})]})]})}var Ie=r(41893),Ne=r(61193),qe=r(70338),Oe=r(81255),Fe=r(85485),Le=r(48444);function Ae(){var e=(0,H.Z)(["\n  query CyclesPage {\n    currentUser {\n      id\n      cycles {\n        transactions(count: 1) {\n          items {\n            id\n            time_created\n          }\n        }\n      }\n    }\n  }\n"]);return Ae=function(){return e},e}var Ve={},Ye=(0,Q.ZP)(Ae());var je=function(e){var n,r,t,c,o=e.pageStatus,u=function(e){var n=(0,U.Z)({},Ve,e);return $.useQuery(Ye,n)}(),d=u.data,p=u.loading,f=u.error,v=(0,Ne.c)("flag-buy-recurring-cycles"),Z=v.enabled,g=v.loading,m=null!=(null===(r=null===d||void 0===d||null===(n=d.currentUser)||void 0===n?void 0:n.cycles.transactions)||void 0===r?void 0:r.items.length)&&(null===(c=null===d||void 0===d||null===(t=d.currentUser)||void 0===t?void 0:t.cycles.transactions)||void 0===c?void 0:c.items.length)>0,w=(0,i.Z)(T.useState(o===y.S$.Buy),2),C=w[0],S=w[1];return p||g?(0,a.tZ)(s.Z,{title:"My Cycles",children:(0,a.tZ)(h.G7,{css:[Oe.l0.center,Oe.l0.mt(48)],children:(0,a.tZ)(N.Z,{})})}):f?(0,a.tZ)(s.Z,{title:"My Cycles",children:"An unexpected error occurred. Please reload the page and try again."}):(0,a.BX)(s.Z,{title:"My Cycles",children:[(0,a.tZ)(G.Z,{skipIntro:!0,isOpen:C,onRequestClose:function(){return S(!1)},context:"cycles_page"}),(0,a.tZ)(Ie.T,{includeMyCyclesCTA:!1}),(0,a.BX)(h.G7,{css:[Oe.l0.p(16),Oe.l0.pt(48),Oe.l0.flex.column,Oe.l0.width("100%"),m?Oe.l0.maxWidth(432):Oe.l0.maxWidth(872),{gap:Oe.TV.space24,margin:"0 auto"},(0,l.Z)({},(0,Fe.EM)("mobileMax"),Oe.l0.pt(16))],children:[Z?(0,a.tZ)(B,{hasCyclesTransactions:m,onRequestBuyCyclesModal:function(){return S(!0)}}):(0,a.tZ)(x,{hasCyclesTransactions:m,onRequestBuyCyclesModal:function(){return S(!0)}}),m?(0,a.BX)(a.HY,{children:[(0,a.tZ)(Me,{context:"cycles_page"}),(0,a.tZ)(ae,{})]}):null,m?null:(0,a.tZ)(h.Tg,{elevated:!0,css:[Oe.l0.p(32),Oe.l0.borderRadius(16)],children:(0,a.tZ)(b.Z,{onShowCyclesPricing:function(){S(!0)},context:"cycles_page"})})]})]})};je.getInitialProps=function(){var e=(0,t.Z)(o().mark((function e(n){var r,t,l;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.req,t=n.store,e.next=3,(0,qe.Z)(r,t);case 3:return"string"===typeof(null===r||void 0===r?void 0:r.params.pageStatus)&&(0,Le.SG)(Object.values(y.S$),null===r||void 0===r?void 0:r.params.pageStatus)&&(l=null===r||void 0===r?void 0:r.params.pageStatus),e.abrupt("return",{pageStatus:l});case 6:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();var ze=je}},function(e){var n=function(n){return e(e.s=n)};e.O(0,[3662,5762,8350,4885,1627,8764,6625,395,8738,9774,2888,179],(function(){return n(25436),n(96590)}));var r=e.O();_N_E=r}]);
//# sourceMappingURL=cycles-86253300fa318550.js.map