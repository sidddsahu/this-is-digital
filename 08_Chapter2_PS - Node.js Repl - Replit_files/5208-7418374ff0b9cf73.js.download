"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5208],{21767:function(e,n,t){t.d(n,{Y:function(){return l}});var r=t(7297);function o(){var e=(0,r.Z)(["\n  fragment ReplLinkRepl on Repl {\n    id\n    url\n    nextPagePathname\n  }\n"]);return o=function(){return e},e}var l=(0,t(31230).ZP)(o())},2885:function(e,n,t){t.d(n,{Z:function(){return se}});var r=t(10253),o=t(35944),l=t(90317),i=t(59369),a=t(67294),s=t(1879),u=t(65975),c=t(26042),p=t(7297),d=t(31230),m=t(46829);function h(){var e=(0,p.Z)(["\n  mutation ReportRepl($replId: String, $reason: String!) {\n    createBoardReport(replId: $replId, reason: $reason) {\n      id\n    }\n  }\n"]);return h=function(){return e},e}var f={},v=(0,d.ZP)(h());var Z=t(93058),g=t(53429),b=(0,u.KD)("form");function w(e){var n=e.replId,t=e.onDone,l=(0,a.useState)(""),i=l[0],s=l[1],p=(0,Z.Z)(),d=p.showConfirm,h=p.showError,w=(0,r.Z)(function(e){var n=(0,c.Z)({},f,e);return m.useMutation(v,n)}({variables:{replId:n,reason:i},onCompleted:function(){d("Repl reported"),t()}}),2),y=w[0],D=w[1].loading;return(0,o.BX)(u.G7,{css:[u.l0.colWithGap(24)],children:[(0,o.tZ)(u.xv,{variant:"subheadBig",children:"Report Repl"}),(0,o.BX)(b,{onSubmit:function(e){e.preventDefault(),i?y():h("Not reported. No reason specified.")},css:[u.l0.colWithGap(32)],children:[(0,o.tZ)(u.G7,{css:[u.l0.colWithGap(8)],children:(0,o.tZ)(u.B,{placeholder:"Why do you want to report this Repl?",value:i,onChange:function(e){return s(e.currentTarget.value)},css:[u.l0.minHeight(64),u.l0.maxHeight(128),{resize:"vertical"}]})}),(0,o.BX)(u.G7,{css:[u.l0.rowWithGap(16),u.l0.justify.end],children:[(0,o.tZ)(u.G7,{children:(0,o.tZ)(u.zx,{type:"button",text:"Cancel",onClick:function(){return t()}})}),(0,o.tZ)(u.G7,{children:(0,o.tZ)(u.zx,{disabled:D,text:D?"Reporting":"Report Repl",type:"submit",colorway:"negative",iconLeft:(0,o.tZ)(g.Z,{}),onClick:function(){return t()}})})]})]})]})}function y(){var e=(0,p.Z)(["\n  mutation WarnUser($username: String!, $reason: String!) {\n    warnUser(username: $username, reason: $reason) {\n      ... on Warning {\n        id\n      }\n      ... on UserError {\n        message\n      }\n    }\n  }\n"]);return y=function(){return e},e}var D={},x=(0,d.ZP)(y());var T=t(88961),R=(0,u.KD)("form");function G(e){var n=e.username,t=e.onDone,l=(0,a.useState)(""),i=l[0],s=l[1],p=(0,Z.Z)(),d=p.showConfirm,h=p.showError,f=(0,r.Z)(function(e){var n=(0,c.Z)({},D,e);return m.useMutation(x,n)}({onCompleted:function(e){var n=e.warnUser;"UserError"===n.__typename?h(n.message):d("The user has been warned.")}}),2),v=f[0],g=f[1].loading;return(0,o.BX)(u.G7,{css:[u.l0.colWithGap(24)],children:[(0,o.tZ)(u.h4,{level:1,variant:"headerDefault",children:"Warn the author of the Repl?"}),(0,o.BX)(R,{onSubmit:function(e){e.preventDefault(),i&&n?(v({variables:{username:n,reason:i}}),t()):h("Please provide a reason.")},css:[u.l0.colWithGap(24)],children:[(0,o.tZ)(u.B,{placeholder:"Reason for warning the user",value:i,onChange:function(e){return s(e.currentTarget.value)},css:{resize:"none",minHeight:40}}),(0,o.BX)(u.G7,{css:[u.l0.rowWithGap(8),u.l0.justify.end],children:[(0,o.tZ)(u.zx,{type:"button",text:"Cancel",onClick:function(){return t()}}),(0,o.tZ)(u.zx,{disabled:g,colorway:"negative",text:g?"Warning user...":"Yes, warn this user",type:"submit",iconLeft:(0,o.tZ)(T.Z,{})})]})]})]})}function C(){var e=(0,p.Z)(["\n  mutation BanUserFromCommunity($username: String!, $reason: String!) {\n    banCommunityUser(username: $username, reason: $reason) {\n      ... on BannedBoardUser {\n        id\n      }\n      ... on UserError {\n        message\n      }\n    }\n  }\n"]);return C=function(){return e},e}var B={},P=(0,d.ZP)(C());var W=t(40963),H=t(67177),U=(0,u.KD)("form");function k(e){var n=e.username,t=e.onDone,l=(0,a.useState)(""),i=l[0],s=l[1],p=(0,Z.Z)(),d=p.showConfirm,h=p.showError,f=(0,r.Z)(function(e){var n=(0,c.Z)({},B,e);return m.useMutation(P,n)}({onCompleted:function(e){var n=e.banCommunityUser;"UserError"===n.__typename?h(n.message):d("The user has been banned.")}}),2),v=f[0],g=f[1].loading;return(0,o.BX)(u.G7,{css:[u.l0.colWithGap(24)],children:[(0,o.tZ)(u.h4,{level:1,variant:"headerDefault",children:"Ban the author of the Repl?"}),(0,o.tZ)(u.xv,{multiline:!0,children:"Are you sure you want to ban this user? All their Repls will be deleted and they will no longer be able to access their account."}),(0,o.BX)(U,{onSubmit:function(e){e.preventDefault(),i&&n?(v({variables:{username:n,reason:i}}),t()):h("Please provide a reason.")},css:[u.l0.colWithGap(24)],children:[(0,o.tZ)(u.G7,{css:[u.l0.colWithGap(8)],children:(0,o.tZ)(W.B,{placeholder:"Reason for banning the user",value:i,onChange:function(e){return s(e.currentTarget.value)},css:{resize:"none",minHeight:40}})}),(0,o.BX)(u.G7,{css:[u.l0.rowWithGap(8),u.l0.justify.end],children:[(0,o.tZ)(u.zx,{type:"button",text:"Cancel",onClick:function(){return t()}}),(0,o.tZ)(u.zx,{disabled:g,colorway:"negative",text:g?"Banning user...":"Yes, ban this user",type:"submit",iconLeft:(0,o.tZ)(H.Z,{})})]})]})]})}var X=t(99900),S=t(47568),E=t(34051),_=t.n(E),I=t(15764);function $(){var e=(0,p.Z)(["\n  mutation UnpublishTemplate($input: DeleteReplDeploymentInput!) {\n    deleteReplDeployment(input: $input) {\n      ... on Repl {\n        id\n        ...PublishReplData\n      }\n      ... on UserError {\n        message\n      }\n      ... on NotFoundError {\n        message\n      }\n    }\n  }\n  ","\n"]);return $=function(){return e},e}var z={},A=(0,d.ZP)($(),I.FW);var O=t(49444),L=(0,u.KD)("form");function q(e){var n=e.replId,t=e.onDone,l=(0,Z.Z)(),i=l.showConfirm,a=l.showError,s=(0,r.Z)(function(e){var n=(0,c.Z)({},z,e);return m.useMutation(A,n)}({variables:{input:{replId:n}}}),2),p=s[0],d=s[1];return(0,o.BX)(u.G7,{css:[u.l0.colWithGap(24)],children:[(0,o.tZ)(u.h4,{level:1,variant:"headerDefault",children:"Unpublish Template from Community?"}),(0,o.BX)(L,{onSubmit:function(){var e=(0,S.Z)(_().mark((function e(n){var r,o,l,s;return _().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.prev=3,e.next=6,p();case 6:s=e.sent,e.next=12;break;case 9:e.prev=9,e.t0=e.catch(3),a("Something went wrong. Please try again.");case 12:if("Repl"!==(null===s||void 0===s||null===(r=s.data)||void 0===r?void 0:r.deleteReplDeployment.__typename)){e.next=16;break}i("Template successfully unpublished"),e.next=19;break;case 16:if("NotFoundError"!==(null===s||void 0===s||null===(o=s.data)||void 0===o?void 0:o.deleteReplDeployment.__typename)&&"UserError"!==(null===s||void 0===s||null===(l=s.data)||void 0===l?void 0:l.deleteReplDeployment.__typename)){e.next=19;break}return a(s.data.deleteReplDeployment.message),e.abrupt("return");case 19:t();case 20:case"end":return e.stop()}}),e,null,[[3,9]])})));return function(n){return e.apply(this,arguments)}}(),css:[u.l0.colWithGap(24)],children:[(0,o.tZ)(u.xv,{multiline:!0,children:"Unpublishing a Template will remove it from the Templates page. The Repl itself will not be deleted, and you can always re-publish the Template again later."}),(0,o.BX)(u.G7,{css:[u.l0.rowWithGap(8),u.l0.justify.end],children:[(0,o.tZ)(u.zx,{type:"button",text:"Cancel",onClick:function(){return t()}}),(0,o.tZ)(u.zx,{disabled:d.loading,colorway:"negative",text:d.loading?"Unpublishing Template...":"Yes, unpublish this Template",type:"submit",iconLeft:(0,o.tZ)(O.EyeOff,{})})]})]})]})}var N=t(6565);function Y(){var e=(0,p.Z)(["\n  mutation ReviewTemplateReview($input: ReviewTemplateInput!) {\n    reviewTemplate(input: $input) {\n      ... on TemplateReview {\n        id\n        repl {\n          id\n          ...ReplViewReplActionsPermissions\n        }\n      }\n      ... on UserError {\n        message\n      }\n      ... on UnauthorizedError {\n        message\n      }\n    }\n  }\n  ","\n"]);return Y=function(){return e},e}var j={},M=(0,d.ZP)(Y(),N.jN);var F=t(76818),K=t(88512),V=t(30992),J=(0,u.KD)("form");function Q(e){var n=e.replId,t=e.replSlug,l=e.reviewType,i=e.onDone,a=(0,Z.Z)(),s=a.showConfirm,p=a.showError,d=(0,V.Y)("promote"===l?t.toLowerCase():"",(function(e){if(!/a-z0-9-/.test(e))return{message:"Slug should only contain lowercase letters, numbers and hyphens"}})),h="Something went wrong ".concat("promote"===l?"promoting":"demoting"," this Template"),f=(0,r.Z)(function(e){var n=(0,c.Z)({},j,e);return m.useMutation(M,n)}({variables:{input:{replId:n,shouldPromote:"promote"===l,landingPageSlug:d.value||null}},onError:function(e){var n=e.message;p(n)},onCompleted:function(e){"TemplateReview"===e.reviewTemplate.__typename?(s("Template successfully ".concat("promote"===l?"promoted":"demoted")),i()):"UnauthorizedError"===e.reviewTemplate.__typename||"UserError"===e.reviewTemplate.__typename?p(e.reviewTemplate.message):p(h)}}),2),v=f[0],g=f[1];return(0,o.BX)(u.G7,{css:[u.l0.colWithGap(24)],children:[(0,o.tZ)(u.h4,{level:1,variant:"headerDefault",children:"promote"===l?"Promote Template":"Demote Template?"}),(0,o.BX)(J,{onSubmit:function(){var e=(0,S.Z)(_().mark((function e(n){return _().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.preventDefault(),v();case 2:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),css:[u.l0.colWithGap(24)],children:["promote"===l?(0,o.BX)(o.HY,{children:[(0,o.tZ)(u.xv,{multiline:!0,children:"Promoting a Template will show the Template in the Create Repl modal. It will also make a landing page if you set a URL below."}),(0,o.BX)(u.G7,{css:[u.l0.rowWithGap(8),u.l0.justify.end,u.l0.align.center],children:[(0,o.tZ)(u.xv,{children:"replit.com/template/"}),(0,o.tZ)(u.II,{placeholder:"landing-page-slug",value:d.value||"",onChange:function(e){return d.setValue(e.target.value)}})]})]}):(0,o.tZ)(u.xv,{multiline:!0,children:"Demoting a Template will remove the Template from the Create Repl modal."}),(0,o.BX)(u.G7,{css:[u.l0.rowWithGap(8),u.l0.justify.end],children:[(0,o.tZ)(u.zx,{type:"button",text:"Cancel",onClick:function(){return i()}}),"promote"===l?(0,o.tZ)(u.zx,{disabled:g.loading,colorway:"primary",iconLeft:(0,o.tZ)(F.Z,{}),text:g.loading?"Promoting Template...":"Promote Template"}):(0,o.tZ)(u.zx,{disabled:g.loading,colorway:"negative",iconLeft:(0,o.tZ)(K.Z,{}),text:g.loading?"Demoting Template...":"Demote Template"})]})]})]})}var ee=t(64184),ne=t(18757);function te(){var e=(0,p.Z)(["\n  mutation HidePostToggleHiddenPost($postId: Int!, $isHidden: Boolean!) {\n    toggleHiddenPost(postId: $postId, isHidden: $isHidden) {\n      ... on Post {\n        id\n        isHidden\n      }\n      ... on NotFoundError {\n        message\n      }\n      ... on UserError {\n        message\n      }\n    }\n  }\n"]);return te=function(){return e},e}var re={},oe=(0,d.ZP)(te());var le,ie=(0,u.KD)("form");function ae(e){var n=e.post,t=e.onDone,l=(0,Z.Z)(),i=l.showConfirm,a=l.showError,s=(0,r.Z)(function(e){var n=(0,c.Z)({},re,e);return m.useMutation(oe,n)}({variables:{postId:n.id,isHidden:!n.isHidden},onCompleted:function(e){"Post"===e.toggleHiddenPost.__typename?n.isHidden?i("Post removed from the community."):i("Post allowed on community."):"NotFoundError"===e.toggleHiddenPost.__typename||"UserError"===e.toggleHiddenPost.__typename?a(e.toggleHiddenPost.message):a("An unexpected error occurred."),t()},onError:function(){a("Something went wrong. Please try again.")}}),2),p=s[0],d=s[1].loading,h=n.isHidden?"Yes, show this post":"Yes, hide this post",f=n.isHidden?"Showing...":"Hiding...",v=n.isHidden?"Show this post to the Community":"Hide this post from the Community";return(0,o.BX)(u.G7,{css:[u.l0.colWithGap(24)],children:[(0,o.tZ)(u.xv,{multiline:!0,variant:"subheadBig",children:v}),(0,o.BX)(ie,{onSubmit:function(e){e.preventDefault(),p()},css:[u.l0.colWithGap(32)],children:[(0,o.tZ)(u.xv,{multiline:!0,children:"Hiding a post will remove it from the Community feeds, but the post will still be viewable to the creator. Showing a post will make it so all users will be able to discover this post though community feeds."}),(0,o.BX)(u.G7,{css:[u.l0.rowWithGap(8),u.l0.justify.end],children:[(0,o.tZ)(u.G7,{children:(0,o.tZ)(u.zx,{type:"button",text:"Cancel",onClick:t})}),(0,o.tZ)(u.G7,{children:(0,o.tZ)(u.zx,{disabled:d,colorway:"negative",text:d?f:h,type:"submit",iconLeft:(0,o.tZ)(ee.Z,{})})})]})]})]})}function se(e){var n,t,c=e.repl,p=e.post,d=e.canModerate,m=e.source,h=(0,r.Z)(a.useState(null),2),f=h[0],v=h[1],Z=[{label:"Report",isDestructive:!0,key:le.reportRepl,icon:(0,o.tZ)(g.Z,{})}];if(d){if(Z.push({label:(0,o.BX)(u.G7,{css:[u.l0.rowWithGap(8),u.l0.align.center],children:[(0,o.tZ)(T.Z,{}),(0,o.tZ)(u.xv,{children:"Warning"}),(0,o.tZ)(u.DR,{text:"mod",css:[u.l0.color.foregroundDefault,{textTransform:"uppercase"}]})]}),key:le.warnAuthor,isDestructive:!0}),Z.push({label:(0,o.BX)(u.G7,{css:[u.l0.rowWithGap(8),u.l0.align.center],children:[(0,o.tZ)(H.Z,{}),(0,o.tZ)(u.xv,{children:"Ban author"}),(0,o.tZ)(u.DR,{text:"mod",css:[u.l0.color.foregroundDefault,{textTransform:"uppercase"}]})]}),key:le.banAuthor,isDestructive:!0}),null!==c.lastPublishedAt){var b=(null===p||void 0===p?void 0:p.isHidden)?(0,o.tZ)(ne.Z,{}):(0,o.tZ)(ee.Z,{}),y=(null===p||void 0===p?void 0:p.isHidden)?"Show post to Community":"Hide post from Community";p&&Z.push({label:(0,o.BX)(u.G7,{css:[u.l0.rowWithGap(8),u.l0.align.center],children:[b,(0,o.tZ)(u.xv,{children:y}),(0,o.tZ)(u.DR,{text:"mod",css:[u.l0.color.foregroundDefault,{textTransform:"uppercase"}]})]}),isDestructive:!0,key:le.modHide}),Z.push({label:(0,o.BX)(u.G7,{css:[u.l0.rowWithGap(8),u.l0.align.center],children:[(0,o.tZ)(H.Z,{}),(0,o.tZ)(u.xv,{children:"Unpublish Repl"}),(0,o.tZ)(u.DR,{text:"mod",css:[u.l0.color.foregroundDefault,{textTransform:"uppercase"}]})]}),isDestructive:!0,key:le.modUnpublish})}var D;if(c.publishedAs===l.O2.Template)(null===(D=c.templateReview)||void 0===D?void 0:D.promoted)?Z.push({label:(0,o.BX)(u.G7,{css:[u.l0.rowWithGap(8),u.l0.align.center],children:[(0,o.tZ)(K.Z,{}),(0,o.tZ)(u.xv,{children:"Demote Template"}),(0,o.tZ)(u.DR,{text:"mod",css:[u.l0.color.foregroundDefault,{textTransform:"uppercase"}]})]}),isDestructive:!0,key:le.modDemoteTemplate}):Z.push({label:(0,o.BX)(u.G7,{css:[u.l0.rowWithGap(8),u.l0.align.center],children:[(0,o.tZ)(F.Z,{}),(0,o.tZ)(u.xv,{children:"Promote Template"}),(0,o.tZ)(u.DR,{text:"mod",css:[u.l0.color.foregroundDefault,{textTransform:"uppercase"}]})]}),isDestructive:!1,key:le.modPromoteTemplate})}return c.currentUserPermissions.publish&&null!==c.lastPublishedAt&&Z.push({label:(0,o.BX)(u.G7,{css:[u.l0.rowWithGap(8),u.l0.align.center],children:[(0,o.tZ)(ee.Z,{}),(0,o.tZ)(u.xv,{children:"Unpublish from Community"})]}),isDestructive:!0,key:le.unpublish}),c.publishedAs===l.O2.Template&&c.currentUserPermissions.publish&&Z.push({label:(0,o.BX)(u.G7,{css:[u.l0.rowWithGap(8),u.l0.align.center],children:[(0,o.tZ)(ee.Z,{}),(0,o.tZ)(u.xv,{children:"Unpublish Template"}),(0,o.tZ)(u.DR,{text:"mod",css:[u.l0.color.foregroundDefault,{textTransform:"uppercase"}]})]}),isDestructive:!0,key:le.unpublishTemplate}),Z.length?(0,o.BX)(o.HY,{children:[(0,o.tZ)(i.Z,{label:"Repl Actions",items:Z,onItemClick:function(e){v(e.key)}}),(0,o.tZ)(s.Z,{isOpen:f===le.reportRepl,onRequestClose:function(){return v(null)},children:(0,o.tZ)(w,{replId:c.id,onDone:function(){return v(null)}})}),(0,o.tZ)(s.Z,{isOpen:f===le.unpublish,onRequestClose:function(){return v(null)},children:(0,o.tZ)(X.Z,{repl:c,onDone:function(){return v(null)},source:m})}),(0,o.tZ)(s.Z,{isOpen:f===le.warnAuthor,onRequestClose:function(){return v(null)},children:(0,o.tZ)(G,{username:null===(n=c.owner)||void 0===n?void 0:n.username,onDone:function(){return v(null)}})}),(0,o.tZ)(s.Z,{isOpen:f===le.banAuthor,onRequestClose:function(){return v(null)},children:(0,o.tZ)(k,{username:null===(t=c.owner)||void 0===t?void 0:t.username,onDone:function(){return v(null)}})}),(0,o.tZ)(s.Z,{isOpen:f===le.unpublishTemplate,onRequestClose:function(){return v(null)},children:(0,o.tZ)(q,{replId:c.id,onDone:function(){return v(null)}})}),(0,o.tZ)(s.Z,{isOpen:f===le.modDemoteTemplate,onRequestClose:function(){return v(null)},children:(0,o.tZ)(Q,{replId:c.id,replSlug:c.slug,reviewType:"demote",onDone:function(){return v(null)}})}),(0,o.tZ)(s.Z,{isOpen:f===le.modPromoteTemplate,onRequestClose:function(){return v(null)},children:(0,o.tZ)(Q,{replId:c.id,replSlug:c.slug,reviewType:"promote",onDone:function(){return v(null)}})}),(0,o.tZ)(s.Z,{isOpen:f===le.modUnpublish,onRequestClose:function(){return v(null)},children:(0,o.tZ)(X.Z,{repl:c,onDone:function(){return v(null)},source:m})}),p&&(0,o.tZ)(s.Z,{isOpen:f===le.modHide,onRequestClose:function(){return v(null)},children:(0,o.tZ)(ae,{post:p,onDone:function(){return v(null)}})})]}):null}!function(e){e.warnAuthor="warnAuthor",e.banAuthor="banAuthor",e.reportRepl="reportRepl",e.unpublish="unpublish",e.unpublishTemplate="unpublishTemplate",e.modPromoteTemplate="modPromoteTemplate",e.modDemoteTemplate="modDemoteTemplate",e.modUnpublish="modUnpublish",e.modHide="modHide"}(le||(le={}))}}]);
//# sourceMappingURL=5208-7418374ff0b9cf73.js.map