"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4286],{80498:function(e,t,r){r.d(t,{a:function(){return B},Z:function(){return j}});var a=r(4111),n=r(47568),i=r(51438),o=r(52951),s=r(14924),c=r(28668),u=r(26042),l=r(69396),d=r(99534),f=r(10253),p=r(25171),m=r(34051),v=r.n(m),b=r(35944),h=r(60536),x=r.n(h),y=r(67294),g=r(28173),Z=r(48966),w=r(15794),k={isEmail:[[Z.isEmail,"Invalid email address"]],email:[[Z.isEmail,"Invalid email address"],[function(){var e=(0,n.Z)(v().mark((function e(t){var r;return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,w.uz)("/data/user/exists",{email:t});case 2:return r=e.sent.exists,e.abrupt("return",!r);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),"Email already in use"]],username:[[function(e){return(0,Z.isByteLength)(e,2,15)},"Your username must be between 2 and 15 characters"],[function(e){return!!e.match(/^[0-9a-zA-Z]+$/)},"Your username can only contain alphanumeric characters (letters A-Z, numbers 0-9)"],[function(){var e=(0,n.Z)(v().mark((function e(t){var r;return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,w.uz)("/data/user/exists",{username:t});case 2:return r=e.sent.exists,e.abrupt("return",!r);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),"Username is taken"]],name:[[function(e){return(0,Z.isByteLength)(e,1,255)},"Your name must be at least 1 character long"]],classroomName:[[function(e){return(0,Z.isByteLength)(e,1,255)},"Classroom name must be at least 1 character long"]],replTitle:[[function(e){return(0,Z.isByteLength)(e,1,60)},"Titles must be between 1 and 60 characters"]],replDescription:[[function(e){return(0,Z.isByteLength)(e,0,255)},"Description should not be longer than 255 characters"]],notEmpty:[[function(e){return!(0,Z.isEmpty)(e)},"Cannot be empty"]],postTitle:[[function(e){return(0,Z.isByteLength)(e,1,100)&&!!e.match(/[0-9a-zA-Z]+/)},"Your post title must be less than 100 characters and contain at least one alphanumeric character"]],replTag:[[function(e){return(0,Z.isByteLength)(e,2,15)},"Tag must be between 2 and 15 characters"],[function(e){return!!e.match(/^[0-9a-zA-Z_]+$/)},"Tag must be alphanumeric characters"]],replFolderName:[[function(e){return(0,Z.isByteLength)(e.trim(),1,60)},"Folder name must be between 1 and 60 characters"],[function(e){return!e.match(/[/*?"\\]+/)},'Folder name cannot contain /, *, ", ? \\']]},z=r(27206),_=r(77365),j=function(e){(0,c.Z)(r,e);var t=(0,p.Z)(r);function r(){return(0,i.Z)(this,r),t.apply(this,arguments)}return(0,o.Z)(r,[{key:"focus",value:function(){this.input&&this.input.focus()}},{key:"select",value:function(){this.input&&this.input.select()}},{key:"blur",value:function(){this.input&&this.input.blur()}},{key:"render",value:function(){var e=this,t=this.props,r=t.error,a=t.isLoading,n=(0,d.Z)(t,["error","isLoading"]),i=r?[{message:r,state:"error"}]:void 0;return(0,b.BX)("div",{className:"jsx-ac5406405936ddf form-input-with-ui",children:[(0,b.tZ)(z.ZP,(0,l.Z)((0,u.Z)({},n),{validationResults:i,ref:function(t){return e.input=t}})),a?(0,b.tZ)("div",{style:{right:"8px",top:"12px",position:"absolute"},className:"jsx-ac5406405936ddf",children:(0,b.tZ)(_.Z,{size:16})}):null,(0,b.tZ)(x(),{id:"ac5406405936ddf",children:".form-input-with-ui.jsx-ac5406405936ddf{position:relative;width:100%}"})]})}}]),r}(y.Component);(0,s.Z)(j,"defaultProps",{isLoading:!1,type:"text",value:"",required:!1});var B=function(e){(0,c.Z)(r,e);var t=(0,p.Z)(r);function r(e){var o;(0,i.Z)(this,r),o=t.call(this,e),(0,s.Z)((0,a.Z)(o),"onBlur",(function(e){o.props.onBlur&&o.props.onBlur(e),o.validateNow()})),(0,s.Z)((0,a.Z)(o),"onChange",(function(e){o.props.onChange(e),o.clearErrTimeout=setTimeout((function(){return o.setState({error:null})}),200),o.validate()})),(0,s.Z)((0,a.Z)(o),"validateNow",(function(){o.validate.cancel(),o._validate()}));var c=(0,a.Z)(o);return(0,s.Z)((0,a.Z)(o),"_validate",(0,n.Z)(v().mark((function e(){var t,r,a,n,i,o,s,u,l,d,p;return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=!0,r=c.props.validators||k[c.props.validator]){e.next=4;break}throw new Error("Please supply validators or a type of validator");case 4:a=!0,n=!1,i=void 0,e.prev=5,o=r[Symbol.iterator]();case 7:if(a=(s=o.next()).done){e.next=25;break}if(u=(0,f.Z)(s.value,2),l=u[0],d=u[1],!(p=l(c.props.value)).then){e.next=16;break}return c.setState({isLoading:!0}),e.next=14,p;case 14:p=e.sent,c.setState({isLoading:!1});case 16:if(p){e.next=22;break}return c.props.onValidation(d),t=!1,c.setState({error:d}),c.clearErrTimeout&&clearTimeout(c.clearErrTimeout),e.abrupt("break",25);case 22:a=!0,e.next=7;break;case 25:e.next=31;break;case 27:e.prev=27,e.t0=e.catch(5),n=!0,i=e.t0;case 31:e.prev=31,e.prev=32,a||null==o.return||o.return();case 34:if(e.prev=34,!n){e.next=37;break}throw i;case 37:return e.finish(34);case 38:return e.finish(31);case 39:t&&(c.setState({error:null}),c.props.onValidation(null));case 40:case"end":return e.stop()}}),e,null,[[5,27,31,39],[32,,34,38]])})))),(0,s.Z)((0,a.Z)(o),"validate",(0,g.Z)((function(){return o._validate()}),o.props.debounceTime)),o.state={error:null,isLoading:!1},o}return(0,o.Z)(r,[{key:"focus",value:function(){this.input&&this.input.focus()}},{key:"select",value:function(){this.input&&this.input.select()}},{key:"blur",value:function(){this.input&&this.input.blur()}},{key:"render",value:function(){var e=this,t=this.props,r=(t.onValidation,t.validator,t.validators,t.debounceTime,(0,d.Z)(t,["onValidation","validator","validators","debounceTime"])),a=(0,l.Z)((0,u.Z)({},r),{onChange:this.onChange,onBlur:this.onBlur,ref:function(t){return e.input=t},error:this.state.error,isLoading:this.state.isLoading});return(0,b.tZ)(j,(0,u.Z)({},a))}}]),r}(y.Component);(0,s.Z)(B,"defaultProps",{debounceTime:1e3})},48850:function(e,t,r){var a=r(4111),n=r(51438),i=r(52951),o=r(14924),s=r(28668),c=r(26042),u=r(69396),l=r(25171),d=r(35944),f=r(60536),p=r.n(f),m=r(67294),v=r(80498),b=r(27206),h=function(e){(0,s.Z)(r,e);var t=(0,l.Z)(r);function r(){var e;return(0,n.Z)(this,r),e=t.apply(this,arguments),(0,o.Z)((0,a.Z)(e),"state",{isShown:!1}),(0,o.Z)((0,a.Z)(e),"toggleShowHide",(function(){e.setState({isShown:!e.state.isShown})})),e}return(0,i.Z)(r,[{key:"focus",value:function(){this.input&&this.input.focus()}},{key:"render",value:function(){var e=this,t=this.state.isShown,r=t?"HIDE":"SHOW";return(0,d.BX)("div",{className:"jsx-36c139331f6f2b3d password-input",children:[this.props.validated?(0,d.tZ)(v.a,(0,u.Z)((0,c.Z)({ref:function(t){return e.input=t},type:t?"text":"password"},this.props),{validated:void 0})):(0,d.tZ)(b.ZP,(0,u.Z)((0,c.Z)({ref:function(t){return e.input=t}},this.props),{type:t?"text":"password",validated:void 0})),this.props.value&&this.props.value.length>0&&(0,d.tZ)("div",{onClick:this.toggleShowHide,className:"jsx-36c139331f6f2b3d password-show-toggle",children:r}),(0,d.tZ)(p(),{id:"36c139331f6f2b3d",children:".password-input.jsx-36c139331f6f2b3d{position:relative}.password-input.jsx-36c139331f6f2b3d input{padding-right:67px!important}.password-show-toggle.jsx-36c139331f6f2b3d{position:absolute;right:19px;line-height:16px;top:12px;cursor:pointer}"})]})}}]),r}(m.Component);(0,o.Z)(h,"defaultProps",{validated:!1,theme:"replitLight"}),t.Z=h},8766:function(e,t,r){var a=r(47568),n=r(34051),i=r.n(n),o=r(83868),s=r.n(o),c=r(93235),u=r.n(c),l=r(15794),d=function(){var e=(0,a.Z)(i().mark((function e(t){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return",null);case 2:if(s()(t)){e.next=4;break}return e.abrupt("return",{message:"Invalid email address"});case 4:return e.next=6,(0,l.uz)("/data/user/exists",{email:t});case 6:if(!e.sent.exists){e.next=9;break}return e.abrupt("return",{message:"Email already in use"});case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();t.Z={isValidEmail:function(){var e=(0,a.Z)(i().mark((function e(t){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return",{message:"Must include valid email address"});case 2:if(s()(t)){e.next=4;break}return e.abrupt("return",{message:"Invalid email address"});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),email:d,teacherEmail:function(){var e=(0,a.Z)(i().mark((function e(t){var r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return",null);case 2:return e.next=4,d(t);case 4:if(!(r=e.sent)){e.next=7;break}return e.abrupt("return",r);case 7:return e.next=9,(0,l.uz)("/data/user/is-teacher-email",{email:t});case 9:if(e.sent.isTeacherEmail){e.next=12;break}return e.abrupt("return",{message:"Ensure you\u2019re using your institution\u2019s email",severity:"warning"});case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),username:function(){var e=(0,a.Z)(i().mark((function e(t){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return",null);case 2:if(u()(t,{min:2,max:15})){e.next=4;break}return e.abrupt("return",{message:"Your username must be between 2 and 15 characters"});case 4:if(t.match(/^[0-9a-zA-Z]+$/)){e.next=6;break}return e.abrupt("return",{message:"Your username can only contain alphanumeric characters (letters A-Z, numbers 0-9)"});case 6:return e.next=8,(0,l.uz)("/data/user/exists",{username:t});case 8:if(!e.sent.exists){e.next=11;break}return e.abrupt("return",{message:"Username is taken"});case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),teamUsername:function(){var e=(0,a.Z)(i().mark((function e(t){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return",null);case 2:if(u()(t,{min:2,max:28})){e.next=4;break}return e.abrupt("return",{message:"Your username must be between 2 and 28 characters"});case 4:if(t.match(/^[0-9a-zA-Z-]+$/)){e.next=6;break}return e.abrupt("return",{message:"Username can only contain alphanumeric characters (letters A-Z, numbers 0-9) and hyphens."});case 6:if(!t.match(/^-.*|.*-$|.*--.*/)){e.next=8;break}return e.abrupt("return",{message:"A username can not start or end with hyphens, or contain two consecutive hyphens."});case 8:return e.next=10,(0,l.uz)("/data/user/exists",{username:t});case 10:if(!e.sent.exists){e.next=13;break}return e.abrupt("return",{message:"Username is taken"});case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),password:function(e){return e?u()(e,{min:8})?void 0:{message:"Must be at least 8 characters"}:null},school:function(e){return null}}},27206:function(e,t,r){r.d(t,{P3:function(){return w},QE:function(){return z}});var a=r(26042),n=r(69396),i=r(99534),o=r(10253),s=r(35944),c=r(60536),u=r.n(c),l=r(67294),d=r(94184),f=r.n(d),p=r(31980),m=r(88075),v=r(88961),b=r(44781),h=r(19526),x=r(42941),y=r(4158),g=r(37424),Z=r(77365),w={default:"default",loading:"default",error:"negative",success:"positive",warning:"default"},k=l.forwardRef((function(e,t){var r,c,d,p=e.label,k=e.description,_=e.icon,j=e.id,B=e.onChange,E=e.large,N=e.placeholder,L=void 0===N?"":N,C=e.validationResults,S=e.onValidationError,T=e.dataCy,Y=(0,i.Z)(e,["label","description","icon","id","onChange","large","placeholder","validationResults","onValidationError","dataCy"]),A=(0,g.H)(),X=j||A("input"),F=k?A("input-description"):void 0,P=(0,o.Z)(l.useState(!1),2),H=P[0],V=P[1];(null===C||void 0===C?void 0:C.some((function(e){return"loading"===e.state})))?(r="loading",c=(0,s.tZ)(Z.Z,{size:16})):(null===C||void 0===C?void 0:C.some((function(e){return"error"===e.state})))?(r="error",d="var(--accent-negative-default)",c=(0,s.tZ)(v.Z,{}),H&&(null===S||void 0===S||S())):(null===C||void 0===C?void 0:C.some((function(e){return"warning"===e.state})))?(r="warning",d="var(--foreground-dimmest)",c=(0,s.tZ)(y.Z,{})):(null===C||void 0===C?void 0:C.every((function(e){return"success"===e.state})))?(r="success",d="var(--accent-positive-default)",c=(0,s.tZ)(m.Z,{})):r="default";var q=w[r],R=E?"var(--font-size-subhead-default)":"var(--font-size-default)";return(0,s.BX)("div",{className:u().dynamic([["9c951117c656eeb7",[d,R,Y.monospace?"var(--font-family-code)":"var(--font-family-default)",R,_?"var(--space-24)":"auto"]]])+" container",children:[p&&(0,s.BX)(s.HY,{children:[Y.required?(0,s.BX)(h.Ug,{spacing:"2px",children:[(0,s.tZ)(b.Z,{tag:"label",foreground:H?1:2,size:E?"small":"xsmall",htmlFor:X,children:p}),(0,s.tZ)("span",{className:u().dynamic([["9c951117c656eeb7",[d,R,Y.monospace?"var(--font-family-code)":"var(--font-family-default)",R,_?"var(--space-24)":"auto"]]])+" required",children:"*"})]}):(0,s.tZ)(b.Z,{tag:"label",foreground:H?1:2,size:E?"small":"xsmall",htmlFor:X,children:p}),(0,s.tZ)(x.Z,{height:"4px"})]}),(0,s.BX)("div",{className:u().dynamic([["9c951117c656eeb7",[d,R,Y.monospace?"var(--font-family-code)":"var(--font-family-default)",R,_?"var(--space-24)":"auto"]]])+" input-container",children:[_&&(0,s.tZ)("div",{className:u().dynamic([["9c951117c656eeb7",[d,R,Y.monospace?"var(--font-family-code)":"var(--font-family-default)",R,_?"var(--space-24)":"auto"]]])+" icon-container left",children:_}),(0,s.tZ)("input",(0,n.Z)((0,a.Z)({id:X,ref:t,required:Y.required||!1,onChange:B,placeholder:L,"aria-busy":"loading"===r,"aria-invalid":"error"===r,"aria-describedby":F,"data-cy":T},Y),{onFocus:function(e){V(!0),Y.onFocus&&Y.onFocus(e)},onBlur:function(e){V(!1),Y.onBlur&&Y.onBlur(e)},className:u().dynamic([["9c951117c656eeb7",[d,R,Y.monospace?"var(--font-family-code)":"var(--font-family-default)",R,_?"var(--space-24)":"auto"]]])+" "+(f()(q,Y.className)||"")})),c&&(0,s.tZ)("div",{onMouseEnter:function(){return V(!0)},onMouseLeave:function(){return V(!1)},className:u().dynamic([["9c951117c656eeb7",[d,R,Y.monospace?"var(--font-family-code)":"var(--font-family-default)",R,_?"var(--space-24)":"auto"]]])+" icon-container right",children:c})]}),k&&(0,s.BX)(s.HY,{children:[(0,s.tZ)(x.Z,{height:"4px"}),(0,s.tZ)(b.Z,{id:F,tag:"span",foreground:3,size:E?"medium":"small",children:k})]}),(null===C||void 0===C?void 0:C.some((function(e){return!!e.message})))&&H&&(0,s.tZ)(z,{validationResults:C}),(0,s.tZ)(u(),{id:"9c951117c656eeb7",dynamic:[d,R,Y.monospace?"var(--font-family-code)":"var(--font-family-default)",R,_?"var(--space-24)":"auto"],children:".container.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;position:relative;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column;width:100%}.required.__jsx-style-dynamic-selector{color:var(--accent-negative-default);font-size:var(--font-size-small)}.spacer.row.__jsx-style-dynamic-selector{width:var(--space-4)}.spacer.col.__jsx-style-dynamic-selector{height:var(--space-4)}.input-container.__jsx-style-dynamic-selector{position:relative}.icon-container.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;position:absolute;top:50%;-webkit-transform:translateY(-50%);-moz-transform:translateY(-50%);-ms-transform:translateY(-50%);-o-transform:translateY(-50%);transform:translateY(-50%);background-color:var(--background-default);-webkit-border-radius:100%;-moz-border-radius:100%;border-radius:100%;padding:var(--space-4)}.icon-container.right.__jsx-style-dynamic-selector{right:var(--space-8);color:".concat(d,"}.icon-container.left.__jsx-style-dynamic-selector{left:var(--space-4);background-color:transparent;color:var(--foreground-dimmest)}input.__jsx-style-dynamic-selector{font-size:").concat(R,";font-family:").concat(Y.monospace?"var(--font-family-code)":"var(--font-family-default)",";line-height:").concat(R,";background-color:var(--background-default);color:var(--foreground-default);padding:var(--space-8);padding-left:").concat(_?"var(--space-24)":"auto",";border:1px solid var(--outline-dimmest);-webkit-border-radius:var(--border-radius-4);-moz-border-radius:var(--border-radius-4);border-radius:var(--border-radius-4);outline:none;width:100%;-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;-webkit-transition:color.1s,background-color.1s;-moz-transition:color.1s,background-color.1s;-o-transition:color.1s,background-color.1s;transition:color.1s,background-color.1s}input.__jsx-style-dynamic-selector:disabled{opacity:.5}input.default.__jsx-style-dynamic-selector:hover{border-color:var(--accent-primary-dimmer)}input.success.__jsx-style-dynamic-selector{border-color:var(--accent-positive-stronger)}input.success.__jsx-style-dynamic-selector:hover{border-color:var(--accent-positive-dimmer)}input.negative.__jsx-style-dynamic-selector{border-color:var(--accent-negative-default)}input.negative.__jsx-style-dynamic-selector:hover{border-color:var(--accent-negative-dimmer)}input.__jsx-style-dynamic-selector:active,input.__jsx-style-dynamic-selector:focus{border-color:var(--accent-primary-default)}")})]})})),z=function(e){var t=e.validationResults;return(0,s.BX)("div",{"aria-live":"polite",className:"jsx-717f837fe0108fc4 container",children:[t.map((function(e,t){var r;switch(e.state){case"success":r=(0,s.tZ)(m.Z,{color:"var(--accent-positive-default)"});break;case"error":r=(0,s.tZ)(v.Z,{color:"var(--accent-negative-default)"});break;case"warning":r=(0,s.tZ)(y.Z,{color:"var(--foreground-dimmest)"});break;default:r=(0,s.tZ)(p.Z,{color:"var(--foreground-dimmest)"})}return(0,s.BX)("div",{className:"jsx-717f837fe0108fc4 validation-row",children:[(0,s.tZ)("div",{className:"jsx-717f837fe0108fc4 validation-icon-container",children:r}),(0,s.tZ)(x.Z,{width:"4px"}),(0,s.tZ)(b.Z,{foreground:2,size:"small",children:e.message})]},e.state+t.toString())})),(0,s.tZ)(u(),{id:"717f837fe0108fc4",children:".container.jsx-717f837fe0108fc4{width:100%;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column;position:absolute;top:-webkit-calc(100% + var(--space-4));top:-moz-calc(100% + var(--space-4));top:calc(100% + var(--space-4));background-color:var(--background-default);padding:var(--space-8);-webkit-border-radius:var(--border-radius-4);-moz-border-radius:var(--border-radius-4);border-radius:var(--border-radius-4);z-index:9999;-webkit-box-shadow:var(--shadow-2);-moz-box-shadow:var(--shadow-2);box-shadow:var(--shadow-2)}.validation-row.jsx-717f837fe0108fc4{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:start;-webkit-align-items:flex-start;-moz-box-align:start;-ms-flex-align:start;align-items:flex-start;width:100%;padding-bottom:var(--space-4)}.validation-icon-container.jsx-717f837fe0108fc4{-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;padding-right:var(--space-4)}"})]})};t.ZP=k}}]);
//# sourceMappingURL=4286-8b4d09c51e0ef5a4.js.map